<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.2">Jekyll</generator><link href="/feed.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" /><updated>2024-01-24T17:32:52+00:00</updated><id>/feed.xml</id><title type="html">Spark NLP</title><subtitle>High Performance NLP with Apache Spark
</subtitle><author><name>{&quot;type&quot;=&gt;nil, &quot;name&quot;=&gt;nil, &quot;url&quot;=&gt;nil, &quot;avatar&quot;=&gt;nil, &quot;bio&quot;=&gt;nil, &quot;email&quot;=&gt;nil, &quot;facebook&quot;=&gt;nil, &quot;twitter&quot;=&gt;nil, &quot;weibo&quot;=&gt;nil, &quot;googleplus&quot;=&gt;nil, &quot;telegram&quot;=&gt;nil, &quot;medium&quot;=&gt;nil, &quot;zhihu&quot;=&gt;nil, &quot;douban&quot;=&gt;nil, &quot;linkedin&quot;=&gt;nil, &quot;github&quot;=&gt;nil, &quot;npm&quot;=&gt;nil}</name></author><entry><title type="html">Sentence Entity Resolver for Snomed Concepts, Findings version (sbiobert_base_cased_mli embeddings)</title><link href="/2024/01/24/sbiobertresolve_snomed_findings_en.html" rel="alternate" type="text/html" title="Sentence Entity Resolver for Snomed Concepts, Findings version (sbiobert_base_cased_mli embeddings)" /><published>2024-01-24T00:00:00+00:00</published><updated>2024-01-24T00:00:00+00:00</updated><id>/2024/01/24/sbiobertresolve_snomed_findings_en</id><content type="html" xml:base="/2024/01/24/sbiobertresolve_snomed_findings_en.html">## Description

The model maps extracted medical entities to their corresponding Snomed codes (Clinical Findings) using `sbiobert_base_cased_mli` BERT sentence embeddings.

## Predicted Entities

`Snomed Codes and their normalized definitions`

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/sbiobertresolve_snomed_findings_en_5.2.1_3.2_1706098966876.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/sbiobertresolve_snomed_findings_en_5.2.1_3.2_1706098966876.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use

`sbiobertresolve_snomed_findings` resolver model must be used with `sbiobert_base_cased_mli` as embeddings and NER models that can extract clinical findings.

&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
  
```python
document_assembler = DocumentAssembler()\
  .setInputCol(&quot;text&quot;)\
  .setOutputCol(&quot;document&quot;)

sentence_detector = SentenceDetectorDLModel.pretrained(&quot;sentence_detector_dl_healthcare&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
  .setInputCols([&quot;document&quot;])\
  .setOutputCol(&quot;sentence&quot;)

tokenizer = Tokenizer()\
  .setInputCols([&quot;sentence&quot;])\
  .setOutputCol(&quot;token&quot;)\

word_embeddings = WordEmbeddingsModel.pretrained(&quot;embeddings_clinical&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
  .setInputCols([&quot;sentence&quot;, &quot;token&quot;])\
  .setOutputCol(&quot;embeddings&quot;)

ner_jsl = MedicalNerModel.pretrained(&quot;ner_jsl&quot;, &quot;en&quot;, &quot;clinical/models&quot;) \
  .setInputCols([&quot;sentence&quot;, &quot;token&quot;, &quot;embeddings&quot;]) \
  .setOutputCol(&quot;ner_jsl&quot;)

ner_jsl_converter = NerConverterInternal() \
  .setInputCols([&quot;sentence&quot;, &quot;token&quot;, &quot;ner_jsl&quot;]) \
  .setOutputCol(&quot;ner_jsl_chunk&quot;)\
  .setWhiteList([&quot;Kidney_Disease&quot;, &quot;Cerebrovascular_Disease&quot;, &quot;Heart_Disease&quot;,
                 &quot;Disease_Syndrome_Disorder&quot;, &quot;ImagingFindings&quot;, &quot;Symptom&quot;, &quot;VS_Finding&quot;,
                 &quot;EKG_Findings&quot;, &quot;Communicable_Disease&quot;])\

chunk2doc = Chunk2Doc()\
  .setInputCols(&quot;ner_jsl_chunk&quot;)\
  .setOutputCol(&quot;ner_chunk_doc&quot;)

sbert_embeddings = BertSentenceEmbeddings.pretrained(&quot;sbiobert_base_cased_mli&quot;,&quot;en&quot;,&quot;clinical/models&quot;)\
  .setInputCols([&quot;ner_chunk_doc&quot;])\
  .setOutputCol(&quot;sbert_embeddings&quot;)\
  .setCaseSensitive(False)

snomed_resolver = SentenceEntityResolverModel.pretrained(&quot;sbiobertresolve_snomed_findings&quot;, &quot;en&quot;, &quot;clinical/models&quot;) \
  .setInputCols([&quot;sbert_embeddings&quot;]) \
  .setOutputCol(&quot;snomed_code&quot;)\

snomed_pipeline = Pipeline(stages = [
    document_assembler,
    sentence_detector,
    tokenizer,
    word_embeddings,
    ner_jsl,
    ner_jsl_converter,
    chunk2doc,
    sbert_embeddings,
    snomed_resolver
])

text = &quot;&quot;&quot;The patient exhibited recurrent upper respiratory tract infections, subjective fevers, unintentional weight loss, and occasional night sweats. Clinically, they appeared cachectic and pale, with notable hepatosplenomegaly. Laboratory results confirmed pancytopenia.&quot;&quot;&quot;

result = snomed_pipeline.fullAnnotate(text)
```
```scala
val documentAssembler = new DocumentAssembler()
      .setInputCol(&quot;text&quot;)
      .setOutputCol(&quot;document&quot;)

val sentenceDetector = SentenceDetectorDLModel.pretrained()
      .setInputCols(Array(&quot;document&quot;))
      .setOutputCol(&quot;sentence&quot;)

val tokenizer = new Tokenizer()
      .setInputCols(Array(&quot;sentence&quot;))
      .setOutputCol(&quot;token&quot;)

val word_embeddings = WordEmbeddingsModel.pretrained(&quot;embeddings_clinical&quot;,&quot;en&quot;, &quot;clinical/models&quot;)
      .setInputCols(Array(&quot;sentence&quot;, &quot;token&quot;))
      .setOutputCol(&quot;embeddings&quot;)

val ner_jsl = MedicalNerModel.pretrained(&quot;ner_jsl&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
      .setInputCols(Array(&quot;sentence&quot;, &quot;token&quot;, &quot;embeddings&quot;))
      .setOutputCol(&quot;ner_jsl&quot;)

val ner_jsl_converter = new NerConverterInternal()
      .setInputCols(Array(&quot;sentence&quot;, &quot;token&quot;, &quot;clinical_ner&quot;))
      .setOutputCol(&quot;ner_jsl_chunk&quot;)
      .setWhiteList(Array(&quot;Kidney_Disease&quot;, &quot;Cerebrovascular_Disease&quot;, &quot;Heart_Disease&quot;,
                 &quot;Disease_Syndrome_Disorder&quot;, &quot;ImagingFindings&quot;, &quot;Symptom&quot;, &quot;VS_Finding&quot;,
                 &quot;EKG_Findings&quot;, &quot;Communicable_Disease&quot;))

val chunk2doc = new Chunk2Doc()
      .setInputCols(&quot;ner_jsl_chunk&quot;)
      .setOutputCol(&quot;ner_chunk_doc&quot;)

val sbert_embedder = BertSentenceEmbeddings.pretrained(&quot;sbiobert_base_cased_mli&quot;,&quot;en&quot;,&quot;clinical/models&quot;)
      .setInputCols(&quot;ner_chunk_doc&quot;)
      .setOutputCol(&quot;sbert_embeddings&quot;)

val snomed_resolver = SentenceEntityResolverModel.pretrained(&quot;sbiobertresolve_snomed_findings&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
     .setInputCols(Array(&quot;sbert_embeddings&quot;))
     .setOutputCol(&quot;snomed_code&quot;)

val new nlpPipeine().setStages(Array(documentAssembler,
                                    sentenceDetector,
                                    tokenizer,
                                    word_embeddings,
                                    ner_jsl_clinical,
                                    ner_jsl_converter,
                                    chunk2doc,
                                    sbert_embedder,
                                    snomed_resolver))

val text= &quot;&quot;&quot;The patient exhibited recurrent upper respiratory tract infections, subjective fevers, unintentional weight loss, and occasional night sweats. Clinically, they appeared cachectic and pale, with notable hepatosplenomegaly. Laboratory results confirmed pancytopenia.&quot;&quot;&quot;

val df = Seq(text).toDF(text)

val result= nlpPipeline.fit(df).transform(df)
```
&lt;/div&gt;

## Results

```bash
+--------------------------------------------+-----+---+---------+--------------------------------------------------+--------------------------------------------------+--------------------------------------------------+
|                                      chunks|begin|end|     code|                                         all_codes|                                       resolutions|                                     all_distances|
+--------------------------------------------+-----+---+---------+--------------------------------------------------+--------------------------------------------------+--------------------------------------------------+
|recurrent upper respiratory tract infections|   22| 65|195708003|[195708003, 308130008, 195746005, 54150009, 783...|[recurrent upper respiratory tract infection, r...|[0.0073, 0.0664, 0.0664, 0.0694, 0.0712, 0.0737...|
|                           subjective fevers|   68| 84|103001002|[103001002, 248425001, 186694006, 77957000, 271...|[feeling feverish (finding), feels feverish, sw...|[0.0494, 0.0514, 0.0535, 0.0552, 0.0661, 0.0674...|
|                   unintentional weight loss|   87|111|448765001|[448765001, 422868009, 699205002, 416528001, 16...|[unintentional weight loss, unexplained weight ...|[0.0000, 0.0400, 0.0472, 0.0564, 0.0666, 0.0666...|
|                     occasional night sweats|  118|140|161859009|[161859009, 42984000, 139115006, 423052008, 672...|[night sweats, night sweats, night sweats, freq...|[0.0480, 0.0480, 0.0480, 0.1043, 0.1100, 0.1256...|
|                                   cachectic|  169|177|238108007|[238108007, 28928000, 74633007, 422003001, 2845...|[cachectic, cachexia, aids with cachexia, cache...|[0.0000, 0.0619, 0.0651, 0.0965, 0.0961, 0.0986...|
|                                        pale|  183|186|274643008|[274643008, 139121005, 161865009, 398979000, 16...|[pale, pale color, pale color, pale complexion,...|[0.0000, 0.0733, 0.0733, 0.0812, 0.0812, 0.0892...|
|                  notable hepatosplenomegaly|  194|219| 36760000|[36760000, 19058002, 80378000, 16294009, 469330...|[hepatosplenomegaly, congestive splenomegaly, n...|[0.0225, 0.0835, 0.0857, 0.0875, 0.0928, 0.0959...|
|                                pancytopenia|  251|262|127034005|[127034005, 736024007, 191249008, 5876000, 1249...|[pancytopenia, drug induced pancytopenia, pancy...|[0.0000, 0.0407, 0.0425, 0.0425, 0.0493, 0.0495...|
+--------------------------------------------+-----+---+---------+--------------------------------------------------+--------------------------------------------------+--------------------------------------------------+
```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|sbiobertresolve_snomed_findings|
|Compatibility:|Healthcare NLP 5.2.1+|
|License:|Licensed|
|Edition:|Official|
|Input Labels:|[sentence_embeddings]|
|Output Labels:|[snomed_code]|
|Language:|en|
|Size:|715.9 MB|
|Case sensitive:|false|

## References

This model is trained with the augmented version of NIH September 2023 SNOMED CT United States (US) Edition.</content><author><name>John Snow Labs</name></author><category term="en" /><category term="licensed" /><category term="entity_resolution" /><category term="clinical" /><category term="snomed" /><category term="findings" /><summary type="html">Description The model maps extracted medical entities to their corresponding Snomed codes (Clinical Findings) using sbiobert_base_cased_mli BERT sentence embeddings. Predicted Entities Snomed Codes and their normalized definitions Live Demo Open in Colab Download Copy S3 URI How to use sbiobertresolve_snomed_findings resolver model must be used with sbiobert_base_cased_mli as embeddings and NER models that can extract clinical findings. PythonJSLScalaNLU document_assembler = DocumentAssembler()\ .setInputCol(&quot;text&quot;)\ .setOutputCol(&quot;document&quot;) sentence_detector = SentenceDetectorDLModel.pretrained(&quot;sentence_detector_dl_healthcare&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols([&quot;document&quot;])\ .setOutputCol(&quot;sentence&quot;) tokenizer = Tokenizer()\ .setInputCols([&quot;sentence&quot;])\ .setOutputCol(&quot;token&quot;)\ word_embeddings = WordEmbeddingsModel.pretrained(&quot;embeddings_clinical&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols([&quot;sentence&quot;, &quot;token&quot;])\ .setOutputCol(&quot;embeddings&quot;) ner_jsl = MedicalNerModel.pretrained(&quot;ner_jsl&quot;, &quot;en&quot;, &quot;clinical/models&quot;) \ .setInputCols([&quot;sentence&quot;, &quot;token&quot;, &quot;embeddings&quot;]) \ .setOutputCol(&quot;ner_jsl&quot;) ner_jsl_converter = NerConverterInternal() \ .setInputCols([&quot;sentence&quot;, &quot;token&quot;, &quot;ner_jsl&quot;]) \ .setOutputCol(&quot;ner_jsl_chunk&quot;)\ .setWhiteList([&quot;Kidney_Disease&quot;, &quot;Cerebrovascular_Disease&quot;, &quot;Heart_Disease&quot;, &quot;Disease_Syndrome_Disorder&quot;, &quot;ImagingFindings&quot;, &quot;Symptom&quot;, &quot;VS_Finding&quot;, &quot;EKG_Findings&quot;, &quot;Communicable_Disease&quot;])\ chunk2doc = Chunk2Doc()\ .setInputCols(&quot;ner_jsl_chunk&quot;)\ .setOutputCol(&quot;ner_chunk_doc&quot;) sbert_embeddings = BertSentenceEmbeddings.pretrained(&quot;sbiobert_base_cased_mli&quot;,&quot;en&quot;,&quot;clinical/models&quot;)\ .setInputCols([&quot;ner_chunk_doc&quot;])\ .setOutputCol(&quot;sbert_embeddings&quot;)\ .setCaseSensitive(False) snomed_resolver = SentenceEntityResolverModel.pretrained(&quot;sbiobertresolve_snomed_findings&quot;, &quot;en&quot;, &quot;clinical/models&quot;) \ .setInputCols([&quot;sbert_embeddings&quot;]) \ .setOutputCol(&quot;snomed_code&quot;)\ snomed_pipeline = Pipeline(stages = [ document_assembler, sentence_detector, tokenizer, word_embeddings, ner_jsl, ner_jsl_converter, chunk2doc, sbert_embeddings, snomed_resolver ]) text = &quot;&quot;&quot;The patient exhibited recurrent upper respiratory tract infections, subjective fevers, unintentional weight loss, and occasional night sweats. Clinically, they appeared cachectic and pale, with notable hepatosplenomegaly. Laboratory results confirmed pancytopenia.&quot;&quot;&quot; result = snomed_pipeline.fullAnnotate(text) val documentAssembler = new DocumentAssembler() .setInputCol(&quot;text&quot;) .setOutputCol(&quot;document&quot;) val sentenceDetector = SentenceDetectorDLModel.pretrained() .setInputCols(Array(&quot;document&quot;)) .setOutputCol(&quot;sentence&quot;) val tokenizer = new Tokenizer() .setInputCols(Array(&quot;sentence&quot;)) .setOutputCol(&quot;token&quot;) val word_embeddings = WordEmbeddingsModel.pretrained(&quot;embeddings_clinical&quot;,&quot;en&quot;, &quot;clinical/models&quot;) .setInputCols(Array(&quot;sentence&quot;, &quot;token&quot;)) .setOutputCol(&quot;embeddings&quot;) val ner_jsl = MedicalNerModel.pretrained(&quot;ner_jsl&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols(Array(&quot;sentence&quot;, &quot;token&quot;, &quot;embeddings&quot;)) .setOutputCol(&quot;ner_jsl&quot;) val ner_jsl_converter = new NerConverterInternal() .setInputCols(Array(&quot;sentence&quot;, &quot;token&quot;, &quot;clinical_ner&quot;)) .setOutputCol(&quot;ner_jsl_chunk&quot;) .setWhiteList(Array(&quot;Kidney_Disease&quot;, &quot;Cerebrovascular_Disease&quot;, &quot;Heart_Disease&quot;, &quot;Disease_Syndrome_Disorder&quot;, &quot;ImagingFindings&quot;, &quot;Symptom&quot;, &quot;VS_Finding&quot;, &quot;EKG_Findings&quot;, &quot;Communicable_Disease&quot;)) val chunk2doc = new Chunk2Doc() .setInputCols(&quot;ner_jsl_chunk&quot;) .setOutputCol(&quot;ner_chunk_doc&quot;) val sbert_embedder = BertSentenceEmbeddings.pretrained(&quot;sbiobert_base_cased_mli&quot;,&quot;en&quot;,&quot;clinical/models&quot;) .setInputCols(&quot;ner_chunk_doc&quot;) .setOutputCol(&quot;sbert_embeddings&quot;) val snomed_resolver = SentenceEntityResolverModel.pretrained(&quot;sbiobertresolve_snomed_findings&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols(Array(&quot;sbert_embeddings&quot;)) .setOutputCol(&quot;snomed_code&quot;) val new nlpPipeine().setStages(Array(documentAssembler, sentenceDetector, tokenizer, word_embeddings, ner_jsl_clinical, ner_jsl_converter, chunk2doc, sbert_embedder, snomed_resolver)) val text= &quot;&quot;&quot;The patient exhibited recurrent upper respiratory tract infections, subjective fevers, unintentional weight loss, and occasional night sweats. Clinically, they appeared cachectic and pale, with notable hepatosplenomegaly. Laboratory results confirmed pancytopenia.&quot;&quot;&quot; val df = Seq(text).toDF(text) val result= nlpPipeline.fit(df).transform(df) Results +--------------------------------------------+-----+---+---------+--------------------------------------------------+--------------------------------------------------+--------------------------------------------------+ | chunks|begin|end| code| all_codes| resolutions| all_distances| +--------------------------------------------+-----+---+---------+--------------------------------------------------+--------------------------------------------------+--------------------------------------------------+ |recurrent upper respiratory tract infections| 22| 65|195708003|[195708003, 308130008, 195746005, 54150009, 783...|[recurrent upper respiratory tract infection, r...|[0.0073, 0.0664, 0.0664, 0.0694, 0.0712, 0.0737...| | subjective fevers| 68| 84|103001002|[103001002, 248425001, 186694006, 77957000, 271...|[feeling feverish (finding), feels feverish, sw...|[0.0494, 0.0514, 0.0535, 0.0552, 0.0661, 0.0674...| | unintentional weight loss| 87|111|448765001|[448765001, 422868009, 699205002, 416528001, 16...|[unintentional weight loss, unexplained weight ...|[0.0000, 0.0400, 0.0472, 0.0564, 0.0666, 0.0666...| | occasional night sweats| 118|140|161859009|[161859009, 42984000, 139115006, 423052008, 672...|[night sweats, night sweats, night sweats, freq...|[0.0480, 0.0480, 0.0480, 0.1043, 0.1100, 0.1256...| | cachectic| 169|177|238108007|[238108007, 28928000, 74633007, 422003001, 2845...|[cachectic, cachexia, aids with cachexia, cache...|[0.0000, 0.0619, 0.0651, 0.0965, 0.0961, 0.0986...| | pale| 183|186|274643008|[274643008, 139121005, 161865009, 398979000, 16...|[pale, pale color, pale color, pale complexion,...|[0.0000, 0.0733, 0.0733, 0.0812, 0.0812, 0.0892...| | notable hepatosplenomegaly| 194|219| 36760000|[36760000, 19058002, 80378000, 16294009, 469330...|[hepatosplenomegaly, congestive splenomegaly, n...|[0.0225, 0.0835, 0.0857, 0.0875, 0.0928, 0.0959...| | pancytopenia| 251|262|127034005|[127034005, 736024007, 191249008, 5876000, 1249...|[pancytopenia, drug induced pancytopenia, pancy...|[0.0000, 0.0407, 0.0425, 0.0425, 0.0493, 0.0495...| +--------------------------------------------+-----+---+---------+--------------------------------------------------+--------------------------------------------------+--------------------------------------------------+ Model Information Model Name: sbiobertresolve_snomed_findings Compatibility: Healthcare NLP 5.2.1+ License: Licensed Edition: Official Input Labels: [sentence_embeddings] Output Labels: [snomed_code] Language: en Size: 715.9 MB Case sensitive: false References This model is trained with the augmented version of NIH September 2023 SNOMED CT United States (US) Edition.</summary></entry><entry><title type="html">Sentence Embeddings - Biobert cased (MedNLI, onnx)</title><link href="/2024/01/22/sbiobert_base_cased_mli_onnx_en.html" rel="alternate" type="text/html" title="Sentence Embeddings - Biobert cased (MedNLI, onnx)" /><published>2024-01-22T00:00:00+00:00</published><updated>2024-01-22T00:00:00+00:00</updated><id>/2024/01/22/sbiobert_base_cased_mli_onnx_en</id><content type="html" xml:base="/2024/01/22/sbiobert_base_cased_mli_onnx_en.html">## Description

This model is trained to generate contextual sentence embeddings of input sentences. It has been fine-tuned on MedNLI dataset to provide sota performance on STS and SentEval Benchmarks.

## Predicted Entities



{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/sbiobert_base_cased_mli_onnx_en_5.2.1_3.0_1705940372620.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/sbiobert_base_cased_mli_onnx_en_5.2.1_3.0_1705940372620.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
```python

sbiobert_embeddings = BertSentenceEmbeddings\
  .pretrained(&quot;sbiobert_base_cased_mli_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
  .setInputCols([&quot;ner_chunk_doc&quot;])\
  .setOutputCol(&quot;sbert_embeddings&quot;)

```
```scala

val sbiobert_embeddings = BertSentenceEmbeddings
  .pretrained(&quot;sbiobert_base_cased_mli_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
  .setInputCols(Array(&quot;ner_chunk_doc&quot;))
  .setOutputCol(&quot;sbert_embeddings&quot;)
```
&lt;/div&gt;

## Results

```bash
Gives a 768 dimensional vector representation of the sentence.
```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|sbiobert_base_cased_mli_onnx|
|Compatibility:|Healthcare NLP 5.2.1+|
|License:|Licensed|
|Edition:|Official|
|Input Labels:|[document]|
|Output Labels:|[sentence_embeddings_onnx]|
|Language:|en|
|Size:|403.1 MB|
|Case sensitive:|false|</content><author><name>John Snow Labs</name></author><category term="licensed" /><category term="en" /><category term="clinical" /><category term="embeddings" /><category term="onnx" /><category term="sbiobert" /><summary type="html">Description This model is trained to generate contextual sentence embeddings of input sentences. It has been fine-tuned on MedNLI dataset to provide sota performance on STS and SentEval Benchmarks. Predicted Entities Live Demo Open in Colab Download Copy S3 URI How to use PythonJSLScalaNLU sbiobert_embeddings = BertSentenceEmbeddings\ .pretrained(&quot;sbiobert_base_cased_mli_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols([&quot;ner_chunk_doc&quot;])\ .setOutputCol(&quot;sbert_embeddings&quot;) val sbiobert_embeddings = BertSentenceEmbeddings .pretrained(&quot;sbiobert_base_cased_mli_onnx&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols(Array(&quot;ner_chunk_doc&quot;)) .setOutputCol(&quot;sbert_embeddings&quot;) Results Gives a 768 dimensional vector representation of the sentence. Model Information Model Name: sbiobert_base_cased_mli_onnx Compatibility: Healthcare NLP 5.2.1+ License: Licensed Edition: Official Input Labels: [document] Output Labels: [sentence_embeddings_onnx] Language: en Size: 403.1 MB Case sensitive: false</summary></entry><entry><title type="html">Explain Clinical Document - Oncology</title><link href="/2024/01/18/explain_clinical_doc_oncology_en.html" rel="alternate" type="text/html" title="Explain Clinical Document - Oncology" /><published>2024-01-18T00:00:00+00:00</published><updated>2024-01-18T00:00:00+00:00</updated><id>/2024/01/18/explain_clinical_doc_oncology_en</id><content type="html" xml:base="/2024/01/18/explain_clinical_doc_oncology_en.html">## Description

This specialized oncology pipeline can;

- extract oncological entities,

- assign assertion status to the extracted entities,

- establish relations between the extracted entities from the clinical documents.

In this pipeline, seven NER, one assertion and two relation extraction model were used to achieve those tasks.

- Clinical Entity Labels: `Adenopathy`, `Age`, `Biomarker`,`Biomarker_Result`, `Cancer_Dx`, `Cancer_Score` ,`Cancer_Surgery`, `Chemotherapy`, `Cycle_Count` ,`Cycle_Day`, `Cycle_Number`, `Date` ,`Death_Entity`, `Direction`, `Dosage` ,`Duration`, `Frequency`, `Gender` ,`Grade`, `Histological_Type`, `Hormonal_Therapy` ,`Imaging_Test`, `Immunotherapy`, `Invasion` ,`Line_Of_Therapy`, `Metastasis`, `Oncogene` ,`PROBLEM`, `Pathology_Result`, `Pathology_Test` ,`PROBLEM`, `Performance_Status`, `Race_Ethnicity` ,`Radiotherapy`, `Response_To_Treatment`, `Relative_Date` ,`Route`, `Site_Bone`, `Site_Brain` ,`Site_Breast`, `Site_Liver`, `Site_Lung` ,`Site_Lymph_Node`, `Site_Other_Body_Part`, `Smoking_Status` ,`Staging`, `Targeted_Therapy`, `Tumor_Finding` ,`Tumor_Size`, `Unspecific_Therapy`, `Radiation_Dose` ,`Anatomical_Site`, `Cancer_Therapy`, `Size_Trend` ,`Lymph_Node`, `Tumor_Description`,`Lymph_Node_Modifier`, `Posology_Information`, `Oncological`,`Weight`,`Alcohol`,`Communicable_Disease`,`BMI`,`Obesity`,`Diabetes`

- Assertion Status Labels: `Present`, `Absent`, `Possible`, `Past`, `Family`, `Hypotetical`

- Relation Extraction Labels: `is_size_of`, `is_finding_of`, `is_date_of`, `is_location_of`

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/explain_clinical_doc_oncology_en_5.2.1_3.2_1705570852519.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/explain_clinical_doc_oncology_en_5.2.1_3.2_1705570852519.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
  
```python

from sparknlp.pretrained import PretrainedPipeline

ner_pipeline = PretrainedPipeline(&quot;explain_clinical_doc_oncology&quot;, &quot;en&quot;, &quot;clinical/models&quot;)

result = ner_pipeline.annotate(&quot;&quot;&quot;The Patient underwent a computed tomography (CT) scan of the abdomen and pelvis, which showed a complex ovarian mass. A Pap smear performed one month later was positive for atypical glandular cells suspicious for adenocarcinoma. The pathologic specimen showed extension of the tumor throughout the fallopian tubes, appendix, omentum, and 5 out of 5 enlarged lymph nodes. The final pathologic diagnosis of the tumor was stage IIIC papillary serous ovarian adenocarcinoma. Two months later, the patient was diagnosed with lung metastases.&quot;&quot;&quot;)

```
```scala

import com.johnsnowlabs.nlp.pretrained.PretrainedPipeline

val ner_pipeline = PretrainedPipeline(&quot;explain_clinical_doc_oncology&quot;, &quot;en&quot;, &quot;clinical/models&quot;)

val result = ner_pipeline.annotate(&quot;&quot;&quot;The Patient underwent a computed tomography (CT) scan of the abdomen and pelvis, which showed a complex ovarian mass. A Pap smear performed one month later was positive for atypical glandular cells suspicious for adenocarcinoma. The pathologic specimen showed extension of the tumor throughout the fallopian tubes, appendix, omentum, and 5 out of 5 enlarged lymph nodes. The final pathologic diagnosis of the tumor was stage IIIC papillary serous ovarian adenocarcinoma. Two months later, the patient was diagnosed with lung metastases.&quot;&quot;&quot;)

```
&lt;/div&gt;

## Results

```bash

# NER Result

|    | sentence_id | chunks                                  | begin | end | entities             |
|----|-------------|-----------------------------------------|-------|-----|----------------------|
| 0  | 0           | computed tomography                     | 24    | 42  | Imaging_Test         |
| 1  | 0           | CT                                      | 45    | 46  | Imaging_Test         |
| 2  | 0           | abdomen                                 | 61    | 67  | Site_Other_Body_Part |
| 3  | 0           | pelvis                                  | 73    | 78  | Site_Other_Body_Part |
| 4  | 0           | ovarian                                 | 104   | 110 | Site_Other_Body_Part |
| 5  | 0           | mass                                    | 112   | 115 | Tumor_Finding        |
| 6  | 1           | Pap smear                               | 120   | 128 | Pathology_Test       |
| 7  | 1           | one month later                         | 140   | 154 | Relative_Date        |
| 8  | 1           | atypical glandular cells                | 173   | 196 | Pathology_Result     |
| 9  | 1           | adenocarcinoma                          | 213   | 226 | Cancer_Dx            |
| 10 | 2           | pathologic specimen                     | 233   | 251 | Pathology_Test       |
| 11 | 2           | extension                               | 260   | 268 | Invasion             |
| 12 | 2           | tumor                                   | 277   | 281 | Tumor_Finding        |
| 13 | 2           | fallopian tubes                         | 298   | 312 | Site_Other_Body_Part |
| 14 | 2           | appendix                                | 315   | 322 | Site_Other_Body_Part |
| 15 | 2           | omentum                                 | 325   | 331 | Site_Other_Body_Part |
| 16 | 2           | enlarged                                | 349   | 356 | Lymph_Node_Modifier  |
| 17 | 2           | lymph nodes                             | 358   | 368 | Site_Lymph_Node      |
| 18 | 3           | tumor                                   | 409   | 413 | Tumor_Finding        |
| 19 | 3           | stage IIIC                              | 419   | 428 | Staging              |
| 20 | 3           | papillary serous ovarian adenocarcinoma | 430   | 468 | Oncological          |
| 21 | 4           | Two months later                        | 471   | 486 | Relative_Date        |
| 22 | 4           | lung metastases                         | 520   | 534 | Oncological          |

# Assertion Result

|    | sentence_id | chunks                                  | begin | end | entities            | assertion |
|----|-------------|-----------------------------------------|-------|-----|---------------------|-----------|
| 0  | 0           | computed tomography                     | 24    | 42  | Imaging_Test        | Past      |
| 1  | 0           | CT                                      | 45    | 46  | Imaging_Test        | Past      |
| 2  | 0           | mass                                    | 112   | 115 | Tumor_Finding       | Present   |
| 3  | 1           | Pap smear                               | 120   | 128 | Pathology_Test      | Past      |
| 4  | 1           | atypical glandular cells                | 173   | 196 | Pathology_Result    | Present   |
| 5  | 1           | adenocarcinoma                          | 213   | 226 | Cancer_Dx           | Possible  |
| 6  | 2           | pathologic specimen                     | 233   | 251 | Pathology_Test      | Past      |
| 7  | 2           | extension                               | 260   | 268 | Invasion            | Present   |
| 8  | 2           | tumor                                   | 277   | 281 | Tumor_Finding       | Present   |
| 9  | 2           | enlarged                                | 349   | 356 | Lymph_Node_Modifier | Present   |
| 10 | 3           | tumor                                   | 409   | 413 | Tumor_Finding       | Present   |
| 11 | 3           | papillary serous ovarian adenocarcinoma | 430   | 468 | Oncological         | Present   |
| 12 | 4           | lung metastases                         | 520   | 534 | Oncological         | Present   |

# Relation Extraction Result

|    | sentence | entity1_begin | entity1_end | chunk1    | entity1              | entity2_begin | entity2_end | chunk2          | entity2              | relation       | confidence |
|----|----------|---------------|-------------|-----------|----------------------|---------------|-------------|-----------------|----------------------|----------------|------------|
| 1  | 0        | 104           | 110         | ovarian   | Site_Other_Body_Part | 112           | 115         | mass            | Tumor_Finding        | is_location_of | 0.922661   |
| 2  | 1        | 120           | 128         | Pap smear | Pathology_Test       | 213           | 226         | adenocarcinoma  | Cancer_Dx            | is_finding_of  | 0.52542114 |
| 3  | 2        | 277           | 281         | tumor     | Tumor_Finding        | 298           | 312         | fallopian tubes | Site_Other_Body_Part | is_location_of | 0.9026299  |
| 4  | 2        | 277           | 281         | tumor     | Tumor_Finding        | 315           | 322         | appendix        | Site_Other_Body_Part | is_location_of | 0.6649267  |

```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|explain_clinical_doc_oncology|
|Type:|pipeline|
|Compatibility:|Healthcare NLP 5.2.1+|
|License:|Licensed|
|Edition:|Official|
|Language:|en|
|Size:|1.9 GB|

## Included Models

- DocumentAssembler
- SentenceDetectorDLModel
- TokenizerModel
- WordEmbeddingsModel
- MedicalNerModel
- NerConverterInternalModel
- MedicalNerModel
- NerConverterInternalModel
- MedicalNerModel
- NerConverterInternalModel
- MedicalNerModel
- NerConverterInternalModel
- MedicalNerModel
- NerConverterInternalModel
- MedicalNerModel
- NerConverterInternalModel
- MedicalNerModel
- NerConverterInternalModel
- ChunkMergeModel
- ChunkMergeModel
- AssertionDLModel
- PerceptronModel
- DependencyParserModel
- RelationExtractionModel
- RelationExtractionModel
- AnnotationMerger</content><author><name>John Snow Labs</name></author><category term="licensed" /><category term="en" /><category term="oncology" /><category term="pipeline" /><category term="ner" /><category term="assertion" /><category term="relation_extraction" /><summary type="html">Description This specialized oncology pipeline can; extract oncological entities, assign assertion status to the extracted entities, establish relations between the extracted entities from the clinical documents. In this pipeline, seven NER, one assertion and two relation extraction model were used to achieve those tasks. Clinical Entity Labels: Adenopathy, Age, Biomarker,Biomarker_Result, Cancer_Dx, Cancer_Score ,Cancer_Surgery, Chemotherapy, Cycle_Count ,Cycle_Day, Cycle_Number, Date ,Death_Entity, Direction, Dosage ,Duration, Frequency, Gender ,Grade, Histological_Type, Hormonal_Therapy ,Imaging_Test, Immunotherapy, Invasion ,Line_Of_Therapy, Metastasis, Oncogene ,PROBLEM, Pathology_Result, Pathology_Test ,PROBLEM, Performance_Status, Race_Ethnicity ,Radiotherapy, Response_To_Treatment, Relative_Date ,Route, Site_Bone, Site_Brain ,Site_Breast, Site_Liver, Site_Lung ,Site_Lymph_Node, Site_Other_Body_Part, Smoking_Status ,Staging, Targeted_Therapy, Tumor_Finding ,Tumor_Size, Unspecific_Therapy, Radiation_Dose ,Anatomical_Site, Cancer_Therapy, Size_Trend ,Lymph_Node, Tumor_Description,Lymph_Node_Modifier, Posology_Information, Oncological,Weight,Alcohol,Communicable_Disease,BMI,Obesity,Diabetes Assertion Status Labels: Present, Absent, Possible, Past, Family, Hypotetical Relation Extraction Labels: is_size_of, is_finding_of, is_date_of, is_location_of Live Demo Open in Colab Download Copy S3 URI How to use PythonJSLScalaNLU from sparknlp.pretrained import PretrainedPipeline ner_pipeline = PretrainedPipeline(&quot;explain_clinical_doc_oncology&quot;, &quot;en&quot;, &quot;clinical/models&quot;) result = ner_pipeline.annotate(&quot;&quot;&quot;The Patient underwent a computed tomography (CT) scan of the abdomen and pelvis, which showed a complex ovarian mass. A Pap smear performed one month later was positive for atypical glandular cells suspicious for adenocarcinoma. The pathologic specimen showed extension of the tumor throughout the fallopian tubes, appendix, omentum, and 5 out of 5 enlarged lymph nodes. The final pathologic diagnosis of the tumor was stage IIIC papillary serous ovarian adenocarcinoma. Two months later, the patient was diagnosed with lung metastases.&quot;&quot;&quot;) import com.johnsnowlabs.nlp.pretrained.PretrainedPipeline val ner_pipeline = PretrainedPipeline(&quot;explain_clinical_doc_oncology&quot;, &quot;en&quot;, &quot;clinical/models&quot;) val result = ner_pipeline.annotate(&quot;&quot;&quot;The Patient underwent a computed tomography (CT) scan of the abdomen and pelvis, which showed a complex ovarian mass. A Pap smear performed one month later was positive for atypical glandular cells suspicious for adenocarcinoma. The pathologic specimen showed extension of the tumor throughout the fallopian tubes, appendix, omentum, and 5 out of 5 enlarged lymph nodes. The final pathologic diagnosis of the tumor was stage IIIC papillary serous ovarian adenocarcinoma. Two months later, the patient was diagnosed with lung metastases.&quot;&quot;&quot;) Results # NER Result | | sentence_id | chunks | begin | end | entities | |----|-------------|-----------------------------------------|-------|-----|----------------------| | 0 | 0 | computed tomography | 24 | 42 | Imaging_Test | | 1 | 0 | CT | 45 | 46 | Imaging_Test | | 2 | 0 | abdomen | 61 | 67 | Site_Other_Body_Part | | 3 | 0 | pelvis | 73 | 78 | Site_Other_Body_Part | | 4 | 0 | ovarian | 104 | 110 | Site_Other_Body_Part | | 5 | 0 | mass | 112 | 115 | Tumor_Finding | | 6 | 1 | Pap smear | 120 | 128 | Pathology_Test | | 7 | 1 | one month later | 140 | 154 | Relative_Date | | 8 | 1 | atypical glandular cells | 173 | 196 | Pathology_Result | | 9 | 1 | adenocarcinoma | 213 | 226 | Cancer_Dx | | 10 | 2 | pathologic specimen | 233 | 251 | Pathology_Test | | 11 | 2 | extension | 260 | 268 | Invasion | | 12 | 2 | tumor | 277 | 281 | Tumor_Finding | | 13 | 2 | fallopian tubes | 298 | 312 | Site_Other_Body_Part | | 14 | 2 | appendix | 315 | 322 | Site_Other_Body_Part | | 15 | 2 | omentum | 325 | 331 | Site_Other_Body_Part | | 16 | 2 | enlarged | 349 | 356 | Lymph_Node_Modifier | | 17 | 2 | lymph nodes | 358 | 368 | Site_Lymph_Node | | 18 | 3 | tumor | 409 | 413 | Tumor_Finding | | 19 | 3 | stage IIIC | 419 | 428 | Staging | | 20 | 3 | papillary serous ovarian adenocarcinoma | 430 | 468 | Oncological | | 21 | 4 | Two months later | 471 | 486 | Relative_Date | | 22 | 4 | lung metastases | 520 | 534 | Oncological | # Assertion Result | | sentence_id | chunks | begin | end | entities | assertion | |----|-------------|-----------------------------------------|-------|-----|---------------------|-----------| | 0 | 0 | computed tomography | 24 | 42 | Imaging_Test | Past | | 1 | 0 | CT | 45 | 46 | Imaging_Test | Past | | 2 | 0 | mass | 112 | 115 | Tumor_Finding | Present | | 3 | 1 | Pap smear | 120 | 128 | Pathology_Test | Past | | 4 | 1 | atypical glandular cells | 173 | 196 | Pathology_Result | Present | | 5 | 1 | adenocarcinoma | 213 | 226 | Cancer_Dx | Possible | | 6 | 2 | pathologic specimen | 233 | 251 | Pathology_Test | Past | | 7 | 2 | extension | 260 | 268 | Invasion | Present | | 8 | 2 | tumor | 277 | 281 | Tumor_Finding | Present | | 9 | 2 | enlarged | 349 | 356 | Lymph_Node_Modifier | Present | | 10 | 3 | tumor | 409 | 413 | Tumor_Finding | Present | | 11 | 3 | papillary serous ovarian adenocarcinoma | 430 | 468 | Oncological | Present | | 12 | 4 | lung metastases | 520 | 534 | Oncological | Present | # Relation Extraction Result | | sentence | entity1_begin | entity1_end | chunk1 | entity1 | entity2_begin | entity2_end | chunk2 | entity2 | relation | confidence | |----|----------|---------------|-------------|-----------|----------------------|---------------|-------------|-----------------|----------------------|----------------|------------| | 1 | 0 | 104 | 110 | ovarian | Site_Other_Body_Part | 112 | 115 | mass | Tumor_Finding | is_location_of | 0.922661 | | 2 | 1 | 120 | 128 | Pap smear | Pathology_Test | 213 | 226 | adenocarcinoma | Cancer_Dx | is_finding_of | 0.52542114 | | 3 | 2 | 277 | 281 | tumor | Tumor_Finding | 298 | 312 | fallopian tubes | Site_Other_Body_Part | is_location_of | 0.9026299 | | 4 | 2 | 277 | 281 | tumor | Tumor_Finding | 315 | 322 | appendix | Site_Other_Body_Part | is_location_of | 0.6649267 | Model Information Model Name: explain_clinical_doc_oncology Type: pipeline Compatibility: Healthcare NLP 5.2.1+ License: Licensed Edition: Official Language: en Size: 1.9 GB Included Models DocumentAssembler SentenceDetectorDLModel TokenizerModel WordEmbeddingsModel MedicalNerModel NerConverterInternalModel MedicalNerModel NerConverterInternalModel MedicalNerModel NerConverterInternalModel MedicalNerModel NerConverterInternalModel MedicalNerModel NerConverterInternalModel MedicalNerModel NerConverterInternalModel MedicalNerModel NerConverterInternalModel ChunkMergeModel ChunkMergeModel AssertionDLModel PerceptronModel DependencyParserModel RelationExtractionModel RelationExtractionModel AnnotationMerger</summary></entry><entry><title type="html">Explain Clinical Document - Radiology</title><link href="/2024/01/18/explain_clinical_doc_radiology_en.html" rel="alternate" type="text/html" title="Explain Clinical Document - Radiology" /><published>2024-01-18T00:00:00+00:00</published><updated>2024-01-18T00:00:00+00:00</updated><id>/2024/01/18/explain_clinical_doc_radiology_en</id><content type="html" xml:base="/2024/01/18/explain_clinical_doc_radiology_en.html">## Description

This specialized radiology pipeline can;

- extract radiology related entities,

- assign assertion status to the extracted entities,

- establish relations between the extracted entities from the clinical documents.

In this pipeline, five NER, one assertion and one relation extraction model were used to achive those tasks.

- Clinical Entity Labels: `Imaging_Test`, `Imaging_Technique`, `ImagingFindings`, `OtherFindings` ,`BodyPart` ,`Direction` ,`Test` ,`Symptom` ,`Disease_Syndrome_Disorder` ,`Medical_Device` ,`Procedure` ,`Measurements` ,`Units` ,`Gender` ,`Metastasis` ,`Invasion` ,`Route` ,`Treatment` ,`Drug` ,`Form` ,`Frequency` ,`Dosage` ,`Date` ,`Test_Result` ,`Medical_Device`

- Assertion Status Labels: `Confirmed`, `Suspected`, `Negative`

- Relation Extraction Labels: `is_related`,`not_related`

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/explain_clinical_doc_radiology_en_5.2.1_3.2_1705569892913.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/explain_clinical_doc_radiology_en_5.2.1_3.2_1705569892913.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
  
```python

from sparknlp.pretrained import PretrainedPipeline

ner_pipeline = PretrainedPipeline(&quot;explain_clinical_doc_radiology&quot;, &quot;en&quot;, &quot;clinical/models&quot;)

result = ner_pipeline.annotate(&quot;&quot;&quot;Bilateral breast ultrasound was subsequently performed, which demonstrated an ovoid mass measuring approximately 0.5 x 0.5 x 0.4 cm in diameter located within the anteromedial aspect of the left shoulder. This mass demonstrates isoechoic echotexture to the adjacent muscle, with no evidence of internal color flow. This may represent benign fibrous tissue or a lipoma.&quot;&quot;&quot;)

```
```scala

import com.johnsnowlabs.nlp.pretrained.PretrainedPipeline

val ner_pipeline = PretrainedPipeline(&quot;explain_clinical_doc_radiology&quot;, &quot;en&quot;, &quot;clinical/models&quot;)

val result = ner_pipeline.annotate(&quot;&quot;&quot;Bilateral breast ultrasound was subsequently performed, which demonstrated an ovoid mass measuring approximately 0.5 x 0.5 x 0.4 cm in diameter located within the anteromedial aspect of the left shoulder. This mass demonstrates isoechoic echotexture to the adjacent muscle, with no evidence of internal color flow. This may represent benign fibrous tissue or a lipoma.&quot;&quot;&quot;)

```
&lt;/div&gt;

## Results

```bash

# NER Result

|    |   sentence_id | chunks                                   |   begin |   end | entities                  |
|---:|--------------:|:-----------------------------------------|--------:|------:|:--------------------------|
|  0 |             0 | Bilateral breast                         |       0 |    15 | BodyPart                  |
|  1 |             0 | ultrasound                               |      17 |    26 | Imaging_Test              |
|  2 |             0 | ovoid mass                               |      78 |    87 | ImagingFindings           |
|  3 |             0 | 0.5 x 0.5 x 0.4 cm                       |     113 |   130 | Measurements              |
|  4 |             0 | anteromedial aspect of the left shoulder |     163 |   202 | BodyPart                  |
|  5 |             1 | mass                                     |     210 |   213 | ImagingFindings           |
|  6 |             1 | isoechoic echotexture                    |     228 |   248 | ImagingFindings           |
|  7 |             1 | adjacent muscle                          |     257 |   271 | BodyPart                  |
|  8 |             1 | internal color flow                      |     294 |   312 | ImagingFindings           |
|  9 |             2 | benign fibrous tissue                    |     334 |   354 | ImagingFindings           |
| 10 |             2 | lipoma                                   |     361 |   366 | Disease_Syndrome_Disorder |

# Assertion Result

|    |   sentence_id | chunks                |   begin |   end | entities                  | assertion   |
|---:|--------------:|:----------------------|--------:|------:|:--------------------------|:------------|
|  0 |             0 | ovoid mass            |      78 |    87 | ImagingFindings           | Confirmed   |
|  1 |             1 | mass                  |     210 |   213 | ImagingFindings           | Confirmed   |
|  2 |             1 | isoechoic echotexture |     228 |   248 | ImagingFindings           | Confirmed   |
|  3 |             1 | internal color flow   |     294 |   312 | ImagingFindings           | Negative    |
|  4 |             2 | benign fibrous tissue |     334 |   354 | ImagingFindings           | Suspected   |
|  5 |             2 | lipoma                |     361 |   366 | Disease_Syndrome_Disorder | Suspected   |

# Relation Extraction Result

|    |   sentence |   entity1_begin |   entity1_end | chunk1                | entity1         |   entity2_begin |   entity2_end | chunk2             | entity2         | relation   |   confidence |
|---:|-----------:|----------------:|--------------:|:----------------------|:----------------|----------------:|--------------:|:-------------------|:----------------|:-----------|-------------:|
|  0 |          0 |               0 |            15 | Bilateral breast      | BodyPart        |              17 |            26 | ultrasound         | Imaging_Test    | is_related |     1        |
|  1 |          0 |               0 |            15 | Bilateral breast      | BodyPart        |              78 |            87 | ovoid mass         | ImagingFindings | is_related |     0.999997 |
|  2 |          0 |              17 |            26 | ultrasound            | Imaging_Test    |              78 |            87 | ovoid mass         | ImagingFindings | is_related |     0.999569 |
|  3 |          0 |              78 |            87 | ovoid mass            | ImagingFindings |             113 |           130 | 0.5 x 0.5 x 0.4 cm | Measurements    | is_related |     1        |
|  4 |          1 |             210 |           213 | mass                  | ImagingFindings |             257 |           271 | adjacent muscle    | BodyPart        | is_related |     0.997639 |
|  5 |          1 |             228 |           248 | isoechoic echotexture | ImagingFindings |             257 |           271 | adjacent muscle    | BodyPart        | is_related |     0.999999 |

```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|explain_clinical_doc_radiology|
|Type:|pipeline|
|Compatibility:|Healthcare NLP 5.2.1+|
|License:|Licensed|
|Edition:|Official|
|Language:|en|
|Size:|1.8 GB|

## Included Models

- DocumentAssembler
- SentenceDetectorDLModel
- TokenizerModel
- WordEmbeddingsModel
- MedicalNerModel
- NerConverterInternalModel
- MedicalNerModel
- NerConverterInternalModel
- MedicalNerModel
- NerConverterInternalModel
- MedicalNerModel
- NerConverterInternalModel
- MedicalNerModel
- NerConverterInternalModel
- ChunkMergeModel
- ChunkMergeModel
- AssertionDLModel
- PerceptronModel
- DependencyParserModel
- RelationExtractionModel</content><author><name>John Snow Labs</name></author><category term="licensed" /><category term="en" /><category term="radiology" /><category term="pipeline" /><category term="ner" /><category term="assertion" /><category term="relation_extraction" /><summary type="html">Description This specialized radiology pipeline can; extract radiology related entities, assign assertion status to the extracted entities, establish relations between the extracted entities from the clinical documents. In this pipeline, five NER, one assertion and one relation extraction model were used to achive those tasks. Clinical Entity Labels: Imaging_Test, Imaging_Technique, ImagingFindings, OtherFindings ,BodyPart ,Direction ,Test ,Symptom ,Disease_Syndrome_Disorder ,Medical_Device ,Procedure ,Measurements ,Units ,Gender ,Metastasis ,Invasion ,Route ,Treatment ,Drug ,Form ,Frequency ,Dosage ,Date ,Test_Result ,Medical_Device Assertion Status Labels: Confirmed, Suspected, Negative Relation Extraction Labels: is_related,not_related Live Demo Open in Colab Download Copy S3 URI How to use PythonJSLScalaNLU from sparknlp.pretrained import PretrainedPipeline ner_pipeline = PretrainedPipeline(&quot;explain_clinical_doc_radiology&quot;, &quot;en&quot;, &quot;clinical/models&quot;) result = ner_pipeline.annotate(&quot;&quot;&quot;Bilateral breast ultrasound was subsequently performed, which demonstrated an ovoid mass measuring approximately 0.5 x 0.5 x 0.4 cm in diameter located within the anteromedial aspect of the left shoulder. This mass demonstrates isoechoic echotexture to the adjacent muscle, with no evidence of internal color flow. This may represent benign fibrous tissue or a lipoma.&quot;&quot;&quot;) import com.johnsnowlabs.nlp.pretrained.PretrainedPipeline val ner_pipeline = PretrainedPipeline(&quot;explain_clinical_doc_radiology&quot;, &quot;en&quot;, &quot;clinical/models&quot;) val result = ner_pipeline.annotate(&quot;&quot;&quot;Bilateral breast ultrasound was subsequently performed, which demonstrated an ovoid mass measuring approximately 0.5 x 0.5 x 0.4 cm in diameter located within the anteromedial aspect of the left shoulder. This mass demonstrates isoechoic echotexture to the adjacent muscle, with no evidence of internal color flow. This may represent benign fibrous tissue or a lipoma.&quot;&quot;&quot;) Results # NER Result | | sentence_id | chunks | begin | end | entities | |---:|--------------:|:-----------------------------------------|--------:|------:|:--------------------------| | 0 | 0 | Bilateral breast | 0 | 15 | BodyPart | | 1 | 0 | ultrasound | 17 | 26 | Imaging_Test | | 2 | 0 | ovoid mass | 78 | 87 | ImagingFindings | | 3 | 0 | 0.5 x 0.5 x 0.4 cm | 113 | 130 | Measurements | | 4 | 0 | anteromedial aspect of the left shoulder | 163 | 202 | BodyPart | | 5 | 1 | mass | 210 | 213 | ImagingFindings | | 6 | 1 | isoechoic echotexture | 228 | 248 | ImagingFindings | | 7 | 1 | adjacent muscle | 257 | 271 | BodyPart | | 8 | 1 | internal color flow | 294 | 312 | ImagingFindings | | 9 | 2 | benign fibrous tissue | 334 | 354 | ImagingFindings | | 10 | 2 | lipoma | 361 | 366 | Disease_Syndrome_Disorder | # Assertion Result | | sentence_id | chunks | begin | end | entities | assertion | |---:|--------------:|:----------------------|--------:|------:|:--------------------------|:------------| | 0 | 0 | ovoid mass | 78 | 87 | ImagingFindings | Confirmed | | 1 | 1 | mass | 210 | 213 | ImagingFindings | Confirmed | | 2 | 1 | isoechoic echotexture | 228 | 248 | ImagingFindings | Confirmed | | 3 | 1 | internal color flow | 294 | 312 | ImagingFindings | Negative | | 4 | 2 | benign fibrous tissue | 334 | 354 | ImagingFindings | Suspected | | 5 | 2 | lipoma | 361 | 366 | Disease_Syndrome_Disorder | Suspected | # Relation Extraction Result | | sentence | entity1_begin | entity1_end | chunk1 | entity1 | entity2_begin | entity2_end | chunk2 | entity2 | relation | confidence | |---:|-----------:|----------------:|--------------:|:----------------------|:----------------|----------------:|--------------:|:-------------------|:----------------|:-----------|-------------:| | 0 | 0 | 0 | 15 | Bilateral breast | BodyPart | 17 | 26 | ultrasound | Imaging_Test | is_related | 1 | | 1 | 0 | 0 | 15 | Bilateral breast | BodyPart | 78 | 87 | ovoid mass | ImagingFindings | is_related | 0.999997 | | 2 | 0 | 17 | 26 | ultrasound | Imaging_Test | 78 | 87 | ovoid mass | ImagingFindings | is_related | 0.999569 | | 3 | 0 | 78 | 87 | ovoid mass | ImagingFindings | 113 | 130 | 0.5 x 0.5 x 0.4 cm | Measurements | is_related | 1 | | 4 | 1 | 210 | 213 | mass | ImagingFindings | 257 | 271 | adjacent muscle | BodyPart | is_related | 0.997639 | | 5 | 1 | 228 | 248 | isoechoic echotexture | ImagingFindings | 257 | 271 | adjacent muscle | BodyPart | is_related | 0.999999 | Model Information Model Name: explain_clinical_doc_radiology Type: pipeline Compatibility: Healthcare NLP 5.2.1+ License: Licensed Edition: Official Language: en Size: 1.8 GB Included Models DocumentAssembler SentenceDetectorDLModel TokenizerModel WordEmbeddingsModel MedicalNerModel NerConverterInternalModel MedicalNerModel NerConverterInternalModel MedicalNerModel NerConverterInternalModel MedicalNerModel NerConverterInternalModel MedicalNerModel NerConverterInternalModel ChunkMergeModel ChunkMergeModel AssertionDLModel PerceptronModel DependencyParserModel RelationExtractionModel</summary></entry><entry><title type="html">Pipeline for Human Phenotype Ontology (HPO) Sentence Entity Resolver</title><link href="/2024/01/18/hpo_resolver_pipeline_en.html" rel="alternate" type="text/html" title="Pipeline for Human Phenotype Ontology (HPO) Sentence Entity Resolver" /><published>2024-01-18T00:00:00+00:00</published><updated>2024-01-18T00:00:00+00:00</updated><id>/2024/01/18/hpo_resolver_pipeline_en</id><content type="html" xml:base="/2024/01/18/hpo_resolver_pipeline_en.html">## Description

This advanced pipeline extracts human phenotype entities from clinical texts and utilizes the `sbiobert_base_cased_mli` Sentence Bert Embeddings to map these entities to their corresponding Human Phenotype Ontology (HPO) codes. It also returns associated codes from the following vocabularies for each HPO code: - MeSH (Medical Subject Headings)- SNOMED- UMLS (Unified Medical Language System ) - ORPHA (international reference resource for information on rare diseases and orphan drugs) - OMIM (Online Mendelian Inheritance in Man).

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/hpo_resolver_pipeline_en_5.2.1_3.2_1705566426908.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/hpo_resolver_pipeline_en_5.2.1_3.2_1705566426908.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
```python

from sparknlp.pretrained import PretrainedPipeline

ner_pipeline = PretrainedPipeline(&quot;hpo_resolver_pipeline&quot;, &quot;en&quot;, &quot;clinical/models&quot;)

result = ner_pipeline.annotate(&quot;&quot;&quot;She is followed by Dr. X in our office and has a history of severe tricuspid regurgitation. On 05/12/08, preserved left and right ventricular systolic function, aortic sclerosis with apparent mild aortic stenosis. She has previously had a Persantine Myoview nuclear rest-stress test scan completed at ABCD Medical Center in 07/06 that was negative. She has had significant mitral valve regurgitation in the past being moderate, but on the most recent echocardiogram on 05/12/08, that was not felt to be significant. She does have a history of significant hypertension in the past. She has had dizzy spells and denies clearly any true syncope. She has had bradycardia in the past from beta-blocker therapy.&quot;&quot;&quot;)

```
```scala

import com.johnsnowlabs.nlp.pretrained.PretrainedPipeline

val ner_pipeline = PretrainedPipeline(&quot;hpo_resolver_pipeline&quot;, &quot;en&quot;, &quot;clinical/models&quot;)

val result = ner_pipeline.annotate(&quot;&quot;&quot;She is followed by Dr. X in our office and has a history of severe tricuspid regurgitation. On 05/12/08, preserved left and right ventricular systolic function, aortic sclerosis with apparent mild aortic stenosis. She has previously had a Persantine Myoview nuclear rest-stress test scan completed at ABCD Medical Center in 07/06 that was negative. She has had significant mitral valve regurgitation in the past being moderate, but on the most recent echocardiogram on 05/12/08, that was not felt to be significant. She does have a history of significant hypertension in the past. She has had dizzy spells and denies clearly any true syncope. She has had bradycardia in the past from beta-blocker therapy.&quot;&quot;&quot;)

```
&lt;/div&gt;

## Results

```bash
+--------------------------+-----+---+---------+----------+--------------------------+--------------------------------------------------+
|                     chunk|begin|end|ner_label|resolution|               description|                                         all_codes|
+--------------------------+-----+---+---------+----------+--------------------------+--------------------------------------------------+
|   tricuspid regurgitation|   67| 89|       HP|HP:0005180|   tricuspid regurgitation|MSH:D014262||SNOMED:111287006||UMLS:C0040961||O...|
|           aortic stenosis|  197|211|       HP|HP:0001650|           aortic stenosis|MSH:D001024||SNOMED:60573004||UMLS:C0003507||OR...|
|mitral valve regurgitation|  373|398|       HP|HP:0001653|mitral valve regurgitation|MSH:D008944||SNOMED:48724000||UMLS:C0026266,C35...|
|              hypertension|  555|566|       HP|HP:0000822|              hypertension|MSH:D006973||SNOMED:24184005,38341003||UMLS:C00...|
|               bradycardia|  655|665|       HP|HP:0001662|               bradycardia|MSH:D001919||SNOMED:48867003||UMLS:C0428977||OR...|
+--------------------------+-----+---+---------+----------+--------------------------+--------------------------------------------------+
```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|hpo_resolver_pipeline|
|Type:|pipeline|
|Compatibility:|Healthcare NLP 5.2.1+|
|License:|Licensed|
|Edition:|Official|
|Language:|en|
|Size:|2.2 GB|

## Included Models

- DocumentAssembler
- SentenceDetectorDLModel
- TokenizerModel
- WordEmbeddingsModel
- MedicalNerModel
- NerConverterInternalModel
- Chunk2Doc
- BertSentenceEmbeddings
- SentenceEntityResolverModel</content><author><name>John Snow Labs</name></author><category term="licensed" /><category term="en" /><category term="entity_resolution" /><category term="clinical" /><category term="pipeline" /><category term="hpo" /><summary type="html">Description This advanced pipeline extracts human phenotype entities from clinical texts and utilizes the sbiobert_base_cased_mli Sentence Bert Embeddings to map these entities to their corresponding Human Phenotype Ontology (HPO) codes. It also returns associated codes from the following vocabularies for each HPO code: - MeSH (Medical Subject Headings)- SNOMED- UMLS (Unified Medical Language System ) - ORPHA (international reference resource for information on rare diseases and orphan drugs) - OMIM (Online Mendelian Inheritance in Man). Live Demo Open in Colab Download Copy S3 URI How to use PythonJSLScalaNLU from sparknlp.pretrained import PretrainedPipeline ner_pipeline = PretrainedPipeline(&quot;hpo_resolver_pipeline&quot;, &quot;en&quot;, &quot;clinical/models&quot;) result = ner_pipeline.annotate(&quot;&quot;&quot;She is followed by Dr. X in our office and has a history of severe tricuspid regurgitation. On 05/12/08, preserved left and right ventricular systolic function, aortic sclerosis with apparent mild aortic stenosis. She has previously had a Persantine Myoview nuclear rest-stress test scan completed at ABCD Medical Center in 07/06 that was negative. She has had significant mitral valve regurgitation in the past being moderate, but on the most recent echocardiogram on 05/12/08, that was not felt to be significant. She does have a history of significant hypertension in the past. She has had dizzy spells and denies clearly any true syncope. She has had bradycardia in the past from beta-blocker therapy.&quot;&quot;&quot;) import com.johnsnowlabs.nlp.pretrained.PretrainedPipeline val ner_pipeline = PretrainedPipeline(&quot;hpo_resolver_pipeline&quot;, &quot;en&quot;, &quot;clinical/models&quot;) val result = ner_pipeline.annotate(&quot;&quot;&quot;She is followed by Dr. X in our office and has a history of severe tricuspid regurgitation. On 05/12/08, preserved left and right ventricular systolic function, aortic sclerosis with apparent mild aortic stenosis. She has previously had a Persantine Myoview nuclear rest-stress test scan completed at ABCD Medical Center in 07/06 that was negative. She has had significant mitral valve regurgitation in the past being moderate, but on the most recent echocardiogram on 05/12/08, that was not felt to be significant. She does have a history of significant hypertension in the past. She has had dizzy spells and denies clearly any true syncope. She has had bradycardia in the past from beta-blocker therapy.&quot;&quot;&quot;) Results +--------------------------+-----+---+---------+----------+--------------------------+--------------------------------------------------+ | chunk|begin|end|ner_label|resolution| description| all_codes| +--------------------------+-----+---+---------+----------+--------------------------+--------------------------------------------------+ | tricuspid regurgitation| 67| 89| HP|HP:0005180| tricuspid regurgitation|MSH:D014262||SNOMED:111287006||UMLS:C0040961||O...| | aortic stenosis| 197|211| HP|HP:0001650| aortic stenosis|MSH:D001024||SNOMED:60573004||UMLS:C0003507||OR...| |mitral valve regurgitation| 373|398| HP|HP:0001653|mitral valve regurgitation|MSH:D008944||SNOMED:48724000||UMLS:C0026266,C35...| | hypertension| 555|566| HP|HP:0000822| hypertension|MSH:D006973||SNOMED:24184005,38341003||UMLS:C00...| | bradycardia| 655|665| HP|HP:0001662| bradycardia|MSH:D001919||SNOMED:48867003||UMLS:C0428977||OR...| +--------------------------+-----+---+---------+----------+--------------------------+--------------------------------------------------+ Model Information Model Name: hpo_resolver_pipeline Type: pipeline Compatibility: Healthcare NLP 5.2.1+ License: Licensed Edition: Official Language: en Size: 2.2 GB Included Models DocumentAssembler SentenceDetectorDLModel TokenizerModel WordEmbeddingsModel MedicalNerModel NerConverterInternalModel Chunk2Doc BertSentenceEmbeddings SentenceEntityResolverModel</summary></entry><entry><title type="html">Explain Clinical Document - Oncology</title><link href="/2024/01/18/explain_clinical_doc_oncology_en.html" rel="alternate" type="text/html" title="Explain Clinical Document - Oncology" /><published>2024-01-18T00:00:00+00:00</published><updated>2024-01-18T00:00:00+00:00</updated><id>/2024/01/18/explain_clinical_doc_oncology_en</id><content type="html" xml:base="/2024/01/18/explain_clinical_doc_oncology_en.html">## Description

This specialized oncology pipeline can;

- extract oncological entities,

- assign assertion status to the extracted entities,

- establish relations between the extracted entities from the clinical documents.

In this pipeline, seven NER, one assertion and two relation extraction model were used to achieve those tasks.

- Clinical Entity Labels: `Adenopathy`, `Age`, `Biomarker`,`Biomarker_Result`, `Cancer_Dx`, `Cancer_Score` ,`Cancer_Surgery`, `Chemotherapy`, `Cycle_Count` ,`Cycle_Day`, `Cycle_Number`, `Date` ,`Death_Entity`, `Direction`, `Dosage` ,`Duration`, `Frequency`, `Gender` ,`Grade`, `Histological_Type`, `Hormonal_Therapy` ,`Imaging_Test`, `Immunotherapy`, `Invasion` ,`Line_Of_Therapy`, `Metastasis`, `Oncogene` ,`PROBLEM`, `Pathology_Result`, `Pathology_Test` ,`PROBLEM`, `Performance_Status`, `Race_Ethnicity` ,`Radiotherapy`, `Response_To_Treatment`, `Relative_Date` ,`Route`, `Site_Bone`, `Site_Brain` ,`Site_Breast`, `Site_Liver`, `Site_Lung` ,`Site_Lymph_Node`, `Site_Other_Body_Part`, `Smoking_Status` ,`Staging`, `Targeted_Therapy`, `Tumor_Finding` ,`Tumor_Size`, `Unspecific_Therapy`, `Radiation_Dose` ,`Anatomical_Site`, `Cancer_Therapy`, `Size_Trend` ,`Lymph_Node`, `Tumor_Description`,`Lymph_Node_Modifier`, `Posology_Information`, `Oncological`,`Weight`,`Alcohol`,`Communicable_Disease`,`BMI`,`Obesity`,`Diabetes`

- Assertion Status Labels: `Present`, `Absent`, `Possible`, `Past`, `Family`, `Hypotetical`

- Relation Extraction Labels: `is_size_of`, `is_finding_of`, `is_date_of`, `is_location_of`

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/explain_clinical_doc_oncology_en_5.2.1_3.4_1705571132885.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/explain_clinical_doc_oncology_en_5.2.1_3.4_1705571132885.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
  
```python

from sparknlp.pretrained import PretrainedPipeline

ner_pipeline = PretrainedPipeline(&quot;explain_clinical_doc_oncology&quot;, &quot;en&quot;, &quot;clinical/models&quot;)

result = ner_pipeline.annotate(&quot;&quot;&quot;The Patient underwent a computed tomography (CT) scan of the abdomen and pelvis, which showed a complex ovarian mass. A Pap smear performed one month later was positive for atypical glandular cells suspicious for adenocarcinoma. The pathologic specimen showed extension of the tumor throughout the fallopian tubes, appendix, omentum, and 5 out of 5 enlarged lymph nodes. The final pathologic diagnosis of the tumor was stage IIIC papillary serous ovarian adenocarcinoma. Two months later, the patient was diagnosed with lung metastases.&quot;&quot;&quot;)

```
```scala

import com.johnsnowlabs.nlp.pretrained.PretrainedPipeline

val ner_pipeline = PretrainedPipeline(&quot;explain_clinical_doc_oncology&quot;, &quot;en&quot;, &quot;clinical/models&quot;)

val result = ner_pipeline.annotate(&quot;&quot;&quot;The Patient underwent a computed tomography (CT) scan of the abdomen and pelvis, which showed a complex ovarian mass. A Pap smear performed one month later was positive for atypical glandular cells suspicious for adenocarcinoma. The pathologic specimen showed extension of the tumor throughout the fallopian tubes, appendix, omentum, and 5 out of 5 enlarged lymph nodes. The final pathologic diagnosis of the tumor was stage IIIC papillary serous ovarian adenocarcinoma. Two months later, the patient was diagnosed with lung metastases.&quot;&quot;&quot;)

```
&lt;/div&gt;

## Results

```bash

# NER Result

|    | sentence_id | chunks                                  | begin | end | entities             |
|----|-------------|-----------------------------------------|-------|-----|----------------------|
| 0  | 0           | computed tomography                     | 24    | 42  | Imaging_Test         |
| 1  | 0           | CT                                      | 45    | 46  | Imaging_Test         |
| 2  | 0           | abdomen                                 | 61    | 67  | Site_Other_Body_Part |
| 3  | 0           | pelvis                                  | 73    | 78  | Site_Other_Body_Part |
| 4  | 0           | ovarian                                 | 104   | 110 | Site_Other_Body_Part |
| 5  | 0           | mass                                    | 112   | 115 | Tumor_Finding        |
| 6  | 1           | Pap smear                               | 120   | 128 | Pathology_Test       |
| 7  | 1           | one month later                         | 140   | 154 | Relative_Date        |
| 8  | 1           | atypical glandular cells                | 173   | 196 | Pathology_Result     |
| 9  | 1           | adenocarcinoma                          | 213   | 226 | Cancer_Dx            |
| 10 | 2           | pathologic specimen                     | 233   | 251 | Pathology_Test       |
| 11 | 2           | extension                               | 260   | 268 | Invasion             |
| 12 | 2           | tumor                                   | 277   | 281 | Tumor_Finding        |
| 13 | 2           | fallopian tubes                         | 298   | 312 | Site_Other_Body_Part |
| 14 | 2           | appendix                                | 315   | 322 | Site_Other_Body_Part |
| 15 | 2           | omentum                                 | 325   | 331 | Site_Other_Body_Part |
| 16 | 2           | enlarged                                | 349   | 356 | Lymph_Node_Modifier  |
| 17 | 2           | lymph nodes                             | 358   | 368 | Site_Lymph_Node      |
| 18 | 3           | tumor                                   | 409   | 413 | Tumor_Finding        |
| 19 | 3           | stage IIIC                              | 419   | 428 | Staging              |
| 20 | 3           | papillary serous ovarian adenocarcinoma | 430   | 468 | Oncological          |
| 21 | 4           | Two months later                        | 471   | 486 | Relative_Date        |
| 22 | 4           | lung metastases                         | 520   | 534 | Oncological          |

# Assertion Result

|    | sentence_id | chunks                                  | begin | end | entities            | assertion |
|----|-------------|-----------------------------------------|-------|-----|---------------------|-----------|
| 0  | 0           | computed tomography                     | 24    | 42  | Imaging_Test        | Past      |
| 1  | 0           | CT                                      | 45    | 46  | Imaging_Test        | Past      |
| 2  | 0           | mass                                    | 112   | 115 | Tumor_Finding       | Present   |
| 3  | 1           | Pap smear                               | 120   | 128 | Pathology_Test      | Past      |
| 4  | 1           | atypical glandular cells                | 173   | 196 | Pathology_Result    | Present   |
| 5  | 1           | adenocarcinoma                          | 213   | 226 | Cancer_Dx           | Possible  |
| 6  | 2           | pathologic specimen                     | 233   | 251 | Pathology_Test      | Past      |
| 7  | 2           | extension                               | 260   | 268 | Invasion            | Present   |
| 8  | 2           | tumor                                   | 277   | 281 | Tumor_Finding       | Present   |
| 9  | 2           | enlarged                                | 349   | 356 | Lymph_Node_Modifier | Present   |
| 10 | 3           | tumor                                   | 409   | 413 | Tumor_Finding       | Present   |
| 11 | 3           | papillary serous ovarian adenocarcinoma | 430   | 468 | Oncological         | Present   |
| 12 | 4           | lung metastases                         | 520   | 534 | Oncological         | Present   |


# Relation Extraction Result

|    | sentence | entity1_begin | entity1_end | chunk1    | entity1              | entity2_begin | entity2_end | chunk2          | entity2              | relation       | confidence |
|----|----------|---------------|-------------|-----------|----------------------|---------------|-------------|-----------------|----------------------|----------------|------------|
| 1  | 0        | 104           | 110         | ovarian   | Site_Other_Body_Part | 112           | 115         | mass            | Tumor_Finding        | is_location_of | 0.922661   |
| 2  | 1        | 120           | 128         | Pap smear | Pathology_Test       | 213           | 226         | adenocarcinoma  | Cancer_Dx            | is_finding_of  | 0.52542114 |
| 3  | 2        | 277           | 281         | tumor     | Tumor_Finding        | 298           | 312         | fallopian tubes | Site_Other_Body_Part | is_location_of | 0.9026299  |
| 4  | 2        | 277           | 281         | tumor     | Tumor_Finding        | 315           | 322         | appendix        | Site_Other_Body_Part | is_location_of | 0.6649267  |

```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|explain_clinical_doc_oncology|
|Type:|pipeline|
|Compatibility:|Healthcare NLP 5.2.1+|
|License:|Licensed|
|Edition:|Official|
|Language:|en|
|Size:|1.9 GB|

## Included Models

- DocumentAssembler
- SentenceDetectorDLModel
- TokenizerModel
- WordEmbeddingsModel
- MedicalNerModel
- NerConverterInternalModel
- MedicalNerModel
- NerConverterInternalModel
- MedicalNerModel
- NerConverterInternalModel
- MedicalNerModel
- NerConverterInternalModel
- MedicalNerModel
- NerConverterInternalModel
- MedicalNerModel
- NerConverterInternalModel
- MedicalNerModel
- NerConverterInternalModel
- ChunkMergeModel
- ChunkMergeModel
- AssertionDLModel
- PerceptronModel
- DependencyParserModel
- RelationExtractionModel
- RelationExtractionModel
- AnnotationMerger</content><author><name>John Snow Labs</name></author><category term="licensed" /><category term="en" /><category term="oncology" /><category term="pipeline" /><category term="ner" /><category term="assertion" /><category term="relation_extraction" /><summary type="html">Description This specialized oncology pipeline can; extract oncological entities, assign assertion status to the extracted entities, establish relations between the extracted entities from the clinical documents. In this pipeline, seven NER, one assertion and two relation extraction model were used to achieve those tasks. Clinical Entity Labels: Adenopathy, Age, Biomarker,Biomarker_Result, Cancer_Dx, Cancer_Score ,Cancer_Surgery, Chemotherapy, Cycle_Count ,Cycle_Day, Cycle_Number, Date ,Death_Entity, Direction, Dosage ,Duration, Frequency, Gender ,Grade, Histological_Type, Hormonal_Therapy ,Imaging_Test, Immunotherapy, Invasion ,Line_Of_Therapy, Metastasis, Oncogene ,PROBLEM, Pathology_Result, Pathology_Test ,PROBLEM, Performance_Status, Race_Ethnicity ,Radiotherapy, Response_To_Treatment, Relative_Date ,Route, Site_Bone, Site_Brain ,Site_Breast, Site_Liver, Site_Lung ,Site_Lymph_Node, Site_Other_Body_Part, Smoking_Status ,Staging, Targeted_Therapy, Tumor_Finding ,Tumor_Size, Unspecific_Therapy, Radiation_Dose ,Anatomical_Site, Cancer_Therapy, Size_Trend ,Lymph_Node, Tumor_Description,Lymph_Node_Modifier, Posology_Information, Oncological,Weight,Alcohol,Communicable_Disease,BMI,Obesity,Diabetes Assertion Status Labels: Present, Absent, Possible, Past, Family, Hypotetical Relation Extraction Labels: is_size_of, is_finding_of, is_date_of, is_location_of Live Demo Open in Colab Download Copy S3 URI How to use PythonJSLScalaNLU from sparknlp.pretrained import PretrainedPipeline ner_pipeline = PretrainedPipeline(&quot;explain_clinical_doc_oncology&quot;, &quot;en&quot;, &quot;clinical/models&quot;) result = ner_pipeline.annotate(&quot;&quot;&quot;The Patient underwent a computed tomography (CT) scan of the abdomen and pelvis, which showed a complex ovarian mass. A Pap smear performed one month later was positive for atypical glandular cells suspicious for adenocarcinoma. The pathologic specimen showed extension of the tumor throughout the fallopian tubes, appendix, omentum, and 5 out of 5 enlarged lymph nodes. The final pathologic diagnosis of the tumor was stage IIIC papillary serous ovarian adenocarcinoma. Two months later, the patient was diagnosed with lung metastases.&quot;&quot;&quot;) import com.johnsnowlabs.nlp.pretrained.PretrainedPipeline val ner_pipeline = PretrainedPipeline(&quot;explain_clinical_doc_oncology&quot;, &quot;en&quot;, &quot;clinical/models&quot;) val result = ner_pipeline.annotate(&quot;&quot;&quot;The Patient underwent a computed tomography (CT) scan of the abdomen and pelvis, which showed a complex ovarian mass. A Pap smear performed one month later was positive for atypical glandular cells suspicious for adenocarcinoma. The pathologic specimen showed extension of the tumor throughout the fallopian tubes, appendix, omentum, and 5 out of 5 enlarged lymph nodes. The final pathologic diagnosis of the tumor was stage IIIC papillary serous ovarian adenocarcinoma. Two months later, the patient was diagnosed with lung metastases.&quot;&quot;&quot;) Results # NER Result | | sentence_id | chunks | begin | end | entities | |----|-------------|-----------------------------------------|-------|-----|----------------------| | 0 | 0 | computed tomography | 24 | 42 | Imaging_Test | | 1 | 0 | CT | 45 | 46 | Imaging_Test | | 2 | 0 | abdomen | 61 | 67 | Site_Other_Body_Part | | 3 | 0 | pelvis | 73 | 78 | Site_Other_Body_Part | | 4 | 0 | ovarian | 104 | 110 | Site_Other_Body_Part | | 5 | 0 | mass | 112 | 115 | Tumor_Finding | | 6 | 1 | Pap smear | 120 | 128 | Pathology_Test | | 7 | 1 | one month later | 140 | 154 | Relative_Date | | 8 | 1 | atypical glandular cells | 173 | 196 | Pathology_Result | | 9 | 1 | adenocarcinoma | 213 | 226 | Cancer_Dx | | 10 | 2 | pathologic specimen | 233 | 251 | Pathology_Test | | 11 | 2 | extension | 260 | 268 | Invasion | | 12 | 2 | tumor | 277 | 281 | Tumor_Finding | | 13 | 2 | fallopian tubes | 298 | 312 | Site_Other_Body_Part | | 14 | 2 | appendix | 315 | 322 | Site_Other_Body_Part | | 15 | 2 | omentum | 325 | 331 | Site_Other_Body_Part | | 16 | 2 | enlarged | 349 | 356 | Lymph_Node_Modifier | | 17 | 2 | lymph nodes | 358 | 368 | Site_Lymph_Node | | 18 | 3 | tumor | 409 | 413 | Tumor_Finding | | 19 | 3 | stage IIIC | 419 | 428 | Staging | | 20 | 3 | papillary serous ovarian adenocarcinoma | 430 | 468 | Oncological | | 21 | 4 | Two months later | 471 | 486 | Relative_Date | | 22 | 4 | lung metastases | 520 | 534 | Oncological | # Assertion Result | | sentence_id | chunks | begin | end | entities | assertion | |----|-------------|-----------------------------------------|-------|-----|---------------------|-----------| | 0 | 0 | computed tomography | 24 | 42 | Imaging_Test | Past | | 1 | 0 | CT | 45 | 46 | Imaging_Test | Past | | 2 | 0 | mass | 112 | 115 | Tumor_Finding | Present | | 3 | 1 | Pap smear | 120 | 128 | Pathology_Test | Past | | 4 | 1 | atypical glandular cells | 173 | 196 | Pathology_Result | Present | | 5 | 1 | adenocarcinoma | 213 | 226 | Cancer_Dx | Possible | | 6 | 2 | pathologic specimen | 233 | 251 | Pathology_Test | Past | | 7 | 2 | extension | 260 | 268 | Invasion | Present | | 8 | 2 | tumor | 277 | 281 | Tumor_Finding | Present | | 9 | 2 | enlarged | 349 | 356 | Lymph_Node_Modifier | Present | | 10 | 3 | tumor | 409 | 413 | Tumor_Finding | Present | | 11 | 3 | papillary serous ovarian adenocarcinoma | 430 | 468 | Oncological | Present | | 12 | 4 | lung metastases | 520 | 534 | Oncological | Present | # Relation Extraction Result | | sentence | entity1_begin | entity1_end | chunk1 | entity1 | entity2_begin | entity2_end | chunk2 | entity2 | relation | confidence | |----|----------|---------------|-------------|-----------|----------------------|---------------|-------------|-----------------|----------------------|----------------|------------| | 1 | 0 | 104 | 110 | ovarian | Site_Other_Body_Part | 112 | 115 | mass | Tumor_Finding | is_location_of | 0.922661 | | 2 | 1 | 120 | 128 | Pap smear | Pathology_Test | 213 | 226 | adenocarcinoma | Cancer_Dx | is_finding_of | 0.52542114 | | 3 | 2 | 277 | 281 | tumor | Tumor_Finding | 298 | 312 | fallopian tubes | Site_Other_Body_Part | is_location_of | 0.9026299 | | 4 | 2 | 277 | 281 | tumor | Tumor_Finding | 315 | 322 | appendix | Site_Other_Body_Part | is_location_of | 0.6649267 | Model Information Model Name: explain_clinical_doc_oncology Type: pipeline Compatibility: Healthcare NLP 5.2.1+ License: Licensed Edition: Official Language: en Size: 1.9 GB Included Models DocumentAssembler SentenceDetectorDLModel TokenizerModel WordEmbeddingsModel MedicalNerModel NerConverterInternalModel MedicalNerModel NerConverterInternalModel MedicalNerModel NerConverterInternalModel MedicalNerModel NerConverterInternalModel MedicalNerModel NerConverterInternalModel MedicalNerModel NerConverterInternalModel MedicalNerModel NerConverterInternalModel ChunkMergeModel ChunkMergeModel AssertionDLModel PerceptronModel DependencyParserModel RelationExtractionModel RelationExtractionModel AnnotationMerger</summary></entry><entry><title type="html">Explain Clinical Document - Radiology</title><link href="/2024/01/18/explain_clinical_doc_radiology_en.html" rel="alternate" type="text/html" title="Explain Clinical Document - Radiology" /><published>2024-01-18T00:00:00+00:00</published><updated>2024-01-18T00:00:00+00:00</updated><id>/2024/01/18/explain_clinical_doc_radiology_en</id><content type="html" xml:base="/2024/01/18/explain_clinical_doc_radiology_en.html">## Description

This specialized radiology pipeline can;

- extract radiology related entities,

- assign assertion status to the extracted entities,

- establish relations between the extracted entities from the clinical documents.

In this pipeline, five NER, one assertion and one relation extraction model were used to achive those tasks.

- Clinical Entity Labels: `Imaging_Test`, `Imaging_Technique`, `ImagingFindings`, `OtherFindings` ,`BodyPart` ,`Direction` ,`Test` ,`Symptom` ,`Disease_Syndrome_Disorder` ,`Medical_Device` ,`Procedure` ,`Measurements` ,`Units` ,`Gender` ,`Metastasis` ,`Invasion` ,`Route` ,`Treatment` ,`Drug` ,`Form` ,`Frequency` ,`Dosage` ,`Date` ,`Test_Result` ,`Medical_Device`

- Assertion Status Labels: `Confirmed`, `Suspected`, `Negative`

- Relation Extraction Labels: `is_related`,`not_related`

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/explain_clinical_doc_radiology_en_5.2.1_3.4_1705570419520.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/explain_clinical_doc_radiology_en_5.2.1_3.4_1705570419520.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
  
```python

from sparknlp.pretrained import PretrainedPipeline

ner_pipeline = PretrainedPipeline(&quot;explain_clinical_doc_radiology&quot;, &quot;en&quot;, &quot;clinical/models&quot;)

result = ner_pipeline.annotate(&quot;&quot;&quot;Bilateral breast ultrasound was subsequently performed, which demonstrated an ovoid mass measuring approximately 0.5 x 0.5 x 0.4 cm in diameter located within the anteromedial aspect of the left shoulder. This mass demonstrates isoechoic echotexture to the adjacent muscle, with no evidence of internal color flow. This may represent benign fibrous tissue or a lipoma.&quot;&quot;&quot;)

```
```scala

import com.johnsnowlabs.nlp.pretrained.PretrainedPipeline

val ner_pipeline = PretrainedPipeline(&quot;explain_clinical_doc_radiology&quot;, &quot;en&quot;, &quot;clinical/models&quot;)

val result = ner_pipeline.annotate(&quot;&quot;&quot;Bilateral breast ultrasound was subsequently performed, which demonstrated an ovoid mass measuring approximately 0.5 x 0.5 x 0.4 cm in diameter located within the anteromedial aspect of the left shoulder. This mass demonstrates isoechoic echotexture to the adjacent muscle, with no evidence of internal color flow. This may represent benign fibrous tissue or a lipoma.&quot;&quot;&quot;)

```
&lt;/div&gt;

## Results

```bash


# NER Result

|    |   sentence_id | chunks                                   |   begin |   end | entities                  |
|---:|--------------:|:-----------------------------------------|--------:|------:|:--------------------------|
|  0 |             0 | Bilateral breast                         |       0 |    15 | BodyPart                  |
|  1 |             0 | ultrasound                               |      17 |    26 | Imaging_Test              |
|  2 |             0 | ovoid mass                               |      78 |    87 | ImagingFindings           |
|  3 |             0 | 0.5 x 0.5 x 0.4 cm                       |     113 |   130 | Measurements              |
|  4 |             0 | anteromedial aspect of the left shoulder |     163 |   202 | BodyPart                  |
|  5 |             1 | mass                                     |     210 |   213 | ImagingFindings           |
|  6 |             1 | isoechoic echotexture                    |     228 |   248 | ImagingFindings           |
|  7 |             1 | adjacent muscle                          |     257 |   271 | BodyPart                  |
|  8 |             1 | internal color flow                      |     294 |   312 | ImagingFindings           |
|  9 |             2 | benign fibrous tissue                    |     334 |   354 | ImagingFindings           |
| 10 |             2 | lipoma                                   |     361 |   366 | Disease_Syndrome_Disorder |

# Assertion Result

|    |   sentence_id | chunks                |   begin |   end | entities                  | assertion   |
|---:|--------------:|:----------------------|--------:|------:|:--------------------------|:------------|
|  0 |             0 | ovoid mass            |      78 |    87 | ImagingFindings           | Confirmed   |
|  1 |             1 | mass                  |     210 |   213 | ImagingFindings           | Confirmed   |
|  2 |             1 | isoechoic echotexture |     228 |   248 | ImagingFindings           | Confirmed   |
|  3 |             1 | internal color flow   |     294 |   312 | ImagingFindings           | Negative    |
|  4 |             2 | benign fibrous tissue |     334 |   354 | ImagingFindings           | Suspected   |
|  5 |             2 | lipoma                |     361 |   366 | Disease_Syndrome_Disorder | Suspected   |

# Relation Extraction Result

|    |   sentence |   entity1_begin |   entity1_end | chunk1                | entity1         |   entity2_begin |   entity2_end | chunk2             | entity2         | relation   |   confidence |
|---:|-----------:|----------------:|--------------:|:----------------------|:----------------|----------------:|--------------:|:-------------------|:----------------|:-----------|-------------:|
|  0 |          0 |               0 |            15 | Bilateral breast      | BodyPart        |              17 |            26 | ultrasound         | Imaging_Test    | is_related |     1        |
|  1 |          0 |               0 |            15 | Bilateral breast      | BodyPart        |              78 |            87 | ovoid mass         | ImagingFindings | is_related |     0.999997 |
|  2 |          0 |              17 |            26 | ultrasound            | Imaging_Test    |              78 |            87 | ovoid mass         | ImagingFindings | is_related |     0.999569 |
|  3 |          0 |              78 |            87 | ovoid mass            | ImagingFindings |             113 |           130 | 0.5 x 0.5 x 0.4 cm | Measurements    | is_related |     1        |
|  4 |          1 |             210 |           213 | mass                  | ImagingFindings |             257 |           271 | adjacent muscle    | BodyPart        | is_related |     0.997639 |
|  5 |          1 |             228 |           248 | isoechoic echotexture | ImagingFindings |             257 |           271 | adjacent muscle    | BodyPart        | is_related |     0.999999 |

```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|explain_clinical_doc_radiology|
|Type:|pipeline|
|Compatibility:|Healthcare NLP 5.2.1+|
|License:|Licensed|
|Edition:|Official|
|Language:|en|
|Size:|1.8 GB|

## Included Models

- DocumentAssembler
- SentenceDetectorDLModel
- TokenizerModel
- WordEmbeddingsModel
- MedicalNerModel
- NerConverterInternalModel
- MedicalNerModel
- NerConverterInternalModel
- MedicalNerModel
- NerConverterInternalModel
- MedicalNerModel
- NerConverterInternalModel
- MedicalNerModel
- NerConverterInternalModel
- ChunkMergeModel
- ChunkMergeModel
- AssertionDLModel
- PerceptronModel
- DependencyParserModel
- RelationExtractionModel</content><author><name>John Snow Labs</name></author><category term="licensed" /><category term="en" /><category term="radiology" /><category term="pipeline" /><category term="ner" /><category term="assertion" /><category term="relation_extraction" /><summary type="html">Description This specialized radiology pipeline can; extract radiology related entities, assign assertion status to the extracted entities, establish relations between the extracted entities from the clinical documents. In this pipeline, five NER, one assertion and one relation extraction model were used to achive those tasks. Clinical Entity Labels: Imaging_Test, Imaging_Technique, ImagingFindings, OtherFindings ,BodyPart ,Direction ,Test ,Symptom ,Disease_Syndrome_Disorder ,Medical_Device ,Procedure ,Measurements ,Units ,Gender ,Metastasis ,Invasion ,Route ,Treatment ,Drug ,Form ,Frequency ,Dosage ,Date ,Test_Result ,Medical_Device Assertion Status Labels: Confirmed, Suspected, Negative Relation Extraction Labels: is_related,not_related Live Demo Open in Colab Download Copy S3 URI How to use PythonJSLScalaNLU from sparknlp.pretrained import PretrainedPipeline ner_pipeline = PretrainedPipeline(&quot;explain_clinical_doc_radiology&quot;, &quot;en&quot;, &quot;clinical/models&quot;) result = ner_pipeline.annotate(&quot;&quot;&quot;Bilateral breast ultrasound was subsequently performed, which demonstrated an ovoid mass measuring approximately 0.5 x 0.5 x 0.4 cm in diameter located within the anteromedial aspect of the left shoulder. This mass demonstrates isoechoic echotexture to the adjacent muscle, with no evidence of internal color flow. This may represent benign fibrous tissue or a lipoma.&quot;&quot;&quot;) import com.johnsnowlabs.nlp.pretrained.PretrainedPipeline val ner_pipeline = PretrainedPipeline(&quot;explain_clinical_doc_radiology&quot;, &quot;en&quot;, &quot;clinical/models&quot;) val result = ner_pipeline.annotate(&quot;&quot;&quot;Bilateral breast ultrasound was subsequently performed, which demonstrated an ovoid mass measuring approximately 0.5 x 0.5 x 0.4 cm in diameter located within the anteromedial aspect of the left shoulder. This mass demonstrates isoechoic echotexture to the adjacent muscle, with no evidence of internal color flow. This may represent benign fibrous tissue or a lipoma.&quot;&quot;&quot;) Results # NER Result | | sentence_id | chunks | begin | end | entities | |---:|--------------:|:-----------------------------------------|--------:|------:|:--------------------------| | 0 | 0 | Bilateral breast | 0 | 15 | BodyPart | | 1 | 0 | ultrasound | 17 | 26 | Imaging_Test | | 2 | 0 | ovoid mass | 78 | 87 | ImagingFindings | | 3 | 0 | 0.5 x 0.5 x 0.4 cm | 113 | 130 | Measurements | | 4 | 0 | anteromedial aspect of the left shoulder | 163 | 202 | BodyPart | | 5 | 1 | mass | 210 | 213 | ImagingFindings | | 6 | 1 | isoechoic echotexture | 228 | 248 | ImagingFindings | | 7 | 1 | adjacent muscle | 257 | 271 | BodyPart | | 8 | 1 | internal color flow | 294 | 312 | ImagingFindings | | 9 | 2 | benign fibrous tissue | 334 | 354 | ImagingFindings | | 10 | 2 | lipoma | 361 | 366 | Disease_Syndrome_Disorder | # Assertion Result | | sentence_id | chunks | begin | end | entities | assertion | |---:|--------------:|:----------------------|--------:|------:|:--------------------------|:------------| | 0 | 0 | ovoid mass | 78 | 87 | ImagingFindings | Confirmed | | 1 | 1 | mass | 210 | 213 | ImagingFindings | Confirmed | | 2 | 1 | isoechoic echotexture | 228 | 248 | ImagingFindings | Confirmed | | 3 | 1 | internal color flow | 294 | 312 | ImagingFindings | Negative | | 4 | 2 | benign fibrous tissue | 334 | 354 | ImagingFindings | Suspected | | 5 | 2 | lipoma | 361 | 366 | Disease_Syndrome_Disorder | Suspected | # Relation Extraction Result | | sentence | entity1_begin | entity1_end | chunk1 | entity1 | entity2_begin | entity2_end | chunk2 | entity2 | relation | confidence | |---:|-----------:|----------------:|--------------:|:----------------------|:----------------|----------------:|--------------:|:-------------------|:----------------|:-----------|-------------:| | 0 | 0 | 0 | 15 | Bilateral breast | BodyPart | 17 | 26 | ultrasound | Imaging_Test | is_related | 1 | | 1 | 0 | 0 | 15 | Bilateral breast | BodyPart | 78 | 87 | ovoid mass | ImagingFindings | is_related | 0.999997 | | 2 | 0 | 17 | 26 | ultrasound | Imaging_Test | 78 | 87 | ovoid mass | ImagingFindings | is_related | 0.999569 | | 3 | 0 | 78 | 87 | ovoid mass | ImagingFindings | 113 | 130 | 0.5 x 0.5 x 0.4 cm | Measurements | is_related | 1 | | 4 | 1 | 210 | 213 | mass | ImagingFindings | 257 | 271 | adjacent muscle | BodyPart | is_related | 0.997639 | | 5 | 1 | 228 | 248 | isoechoic echotexture | ImagingFindings | 257 | 271 | adjacent muscle | BodyPart | is_related | 0.999999 | Model Information Model Name: explain_clinical_doc_radiology Type: pipeline Compatibility: Healthcare NLP 5.2.1+ License: Licensed Edition: Official Language: en Size: 1.8 GB Included Models DocumentAssembler SentenceDetectorDLModel TokenizerModel WordEmbeddingsModel MedicalNerModel NerConverterInternalModel MedicalNerModel NerConverterInternalModel MedicalNerModel NerConverterInternalModel MedicalNerModel NerConverterInternalModel MedicalNerModel NerConverterInternalModel ChunkMergeModel ChunkMergeModel AssertionDLModel PerceptronModel DependencyParserModel RelationExtractionModel</summary></entry><entry><title type="html">Pipeline for Human Phenotype Ontology (HPO) Sentence Entity Resolver</title><link href="/2024/01/18/hpo_resolver_pipeline_en.html" rel="alternate" type="text/html" title="Pipeline for Human Phenotype Ontology (HPO) Sentence Entity Resolver" /><published>2024-01-18T00:00:00+00:00</published><updated>2024-01-18T00:00:00+00:00</updated><id>/2024/01/18/hpo_resolver_pipeline_en</id><content type="html" xml:base="/2024/01/18/hpo_resolver_pipeline_en.html">## Description

This advanced pipeline extracts human phenotype entities from clinical texts and utilizes the `sbiobert_base_cased_mli` Sentence Bert Embeddings to map these entities to their corresponding Human Phenotype Ontology (HPO) codes. It also returns associated codes from the following vocabularies for each HPO code: - MeSH (Medical Subject Headings)- SNOMED- UMLS (Unified Medical Language System ) - ORPHA (international reference resource for information on rare diseases and orphan drugs) - OMIM (Online Mendelian Inheritance in Man).

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/hpo_resolver_pipeline_en_5.2.1_3.4_1705567225042.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/hpo_resolver_pipeline_en_5.2.1_3.4_1705567225042.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
```python

from sparknlp.pretrained import PretrainedPipeline

ner_pipeline = PretrainedPipeline(&quot;hpo_resolver_pipeline&quot;, &quot;en&quot;, &quot;clinical/models&quot;)

result = ner_pipeline.annotate(&quot;&quot;&quot;She is followed by Dr. X in our office and has a history of severe tricuspid regurgitation. On 05/12/08, preserved left and right ventricular systolic function, aortic sclerosis with apparent mild aortic stenosis. She has previously had a Persantine Myoview nuclear rest-stress test scan completed at ABCD Medical Center in 07/06 that was negative. She has had significant mitral valve regurgitation in the past being moderate, but on the most recent echocardiogram on 05/12/08, that was not felt to be significant. She does have a history of significant hypertension in the past. She has had dizzy spells and denies clearly any true syncope. She has had bradycardia in the past from beta-blocker therapy.&quot;&quot;&quot;)

```
```scala

import com.johnsnowlabs.nlp.pretrained.PretrainedPipeline

val ner_pipeline = PretrainedPipeline(&quot;hpo_resolver_pipeline&quot;, &quot;en&quot;, &quot;clinical/models&quot;)

val result = ner_pipeline.annotate(&quot;&quot;&quot;She is followed by Dr. X in our office and has a history of severe tricuspid regurgitation. On 05/12/08, preserved left and right ventricular systolic function, aortic sclerosis with apparent mild aortic stenosis. She has previously had a Persantine Myoview nuclear rest-stress test scan completed at ABCD Medical Center in 07/06 that was negative. She has had significant mitral valve regurgitation in the past being moderate, but on the most recent echocardiogram on 05/12/08, that was not felt to be significant. She does have a history of significant hypertension in the past. She has had dizzy spells and denies clearly any true syncope. She has had bradycardia in the past from beta-blocker therapy.&quot;&quot;&quot;)

```
&lt;/div&gt;

## Results

```bash
+--------------------------+-----+---+---------+----------+--------------------------+--------------------------------------------------+
|                     chunk|begin|end|ner_label|resolution|               description|                                         all_codes|
+--------------------------+-----+---+---------+----------+--------------------------+--------------------------------------------------+
|   tricuspid regurgitation|   67| 89|       HP|HP:0005180|   tricuspid regurgitation|MSH:D014262||SNOMED:111287006||UMLS:C0040961||O...|
|           aortic stenosis|  197|211|       HP|HP:0001650|           aortic stenosis|MSH:D001024||SNOMED:60573004||UMLS:C0003507||OR...|
|mitral valve regurgitation|  373|398|       HP|HP:0001653|mitral valve regurgitation|MSH:D008944||SNOMED:48724000||UMLS:C0026266,C35...|
|              hypertension|  555|566|       HP|HP:0000822|              hypertension|MSH:D006973||SNOMED:24184005,38341003||UMLS:C00...|
|               bradycardia|  655|665|       HP|HP:0001662|               bradycardia|MSH:D001919||SNOMED:48867003||UMLS:C0428977||OR...|
+--------------------------+-----+---+---------+----------+--------------------------+--------------------------------------------------+
```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|hpo_resolver_pipeline|
|Type:|pipeline|
|Compatibility:|Healthcare NLP 5.2.1+|
|License:|Licensed|
|Edition:|Official|
|Language:|en|
|Size:|2.2 GB|

## Included Models

- DocumentAssembler
- SentenceDetectorDLModel
- TokenizerModel
- WordEmbeddingsModel
- MedicalNerModel
- NerConverterInternalModel
- Chunk2Doc
- BertSentenceEmbeddings
- SentenceEntityResolverModel</content><author><name>John Snow Labs</name></author><category term="licensed" /><category term="en" /><category term="entity_resolution" /><category term="clinical" /><category term="pipeline" /><category term="hpo" /><summary type="html">Description This advanced pipeline extracts human phenotype entities from clinical texts and utilizes the sbiobert_base_cased_mli Sentence Bert Embeddings to map these entities to their corresponding Human Phenotype Ontology (HPO) codes. It also returns associated codes from the following vocabularies for each HPO code: - MeSH (Medical Subject Headings)- SNOMED- UMLS (Unified Medical Language System ) - ORPHA (international reference resource for information on rare diseases and orphan drugs) - OMIM (Online Mendelian Inheritance in Man). Live Demo Open in Colab Download Copy S3 URI How to use PythonJSLScalaNLU from sparknlp.pretrained import PretrainedPipeline ner_pipeline = PretrainedPipeline(&quot;hpo_resolver_pipeline&quot;, &quot;en&quot;, &quot;clinical/models&quot;) result = ner_pipeline.annotate(&quot;&quot;&quot;She is followed by Dr. X in our office and has a history of severe tricuspid regurgitation. On 05/12/08, preserved left and right ventricular systolic function, aortic sclerosis with apparent mild aortic stenosis. She has previously had a Persantine Myoview nuclear rest-stress test scan completed at ABCD Medical Center in 07/06 that was negative. She has had significant mitral valve regurgitation in the past being moderate, but on the most recent echocardiogram on 05/12/08, that was not felt to be significant. She does have a history of significant hypertension in the past. She has had dizzy spells and denies clearly any true syncope. She has had bradycardia in the past from beta-blocker therapy.&quot;&quot;&quot;) import com.johnsnowlabs.nlp.pretrained.PretrainedPipeline val ner_pipeline = PretrainedPipeline(&quot;hpo_resolver_pipeline&quot;, &quot;en&quot;, &quot;clinical/models&quot;) val result = ner_pipeline.annotate(&quot;&quot;&quot;She is followed by Dr. X in our office and has a history of severe tricuspid regurgitation. On 05/12/08, preserved left and right ventricular systolic function, aortic sclerosis with apparent mild aortic stenosis. She has previously had a Persantine Myoview nuclear rest-stress test scan completed at ABCD Medical Center in 07/06 that was negative. She has had significant mitral valve regurgitation in the past being moderate, but on the most recent echocardiogram on 05/12/08, that was not felt to be significant. She does have a history of significant hypertension in the past. She has had dizzy spells and denies clearly any true syncope. She has had bradycardia in the past from beta-blocker therapy.&quot;&quot;&quot;) Results +--------------------------+-----+---+---------+----------+--------------------------+--------------------------------------------------+ | chunk|begin|end|ner_label|resolution| description| all_codes| +--------------------------+-----+---+---------+----------+--------------------------+--------------------------------------------------+ | tricuspid regurgitation| 67| 89| HP|HP:0005180| tricuspid regurgitation|MSH:D014262||SNOMED:111287006||UMLS:C0040961||O...| | aortic stenosis| 197|211| HP|HP:0001650| aortic stenosis|MSH:D001024||SNOMED:60573004||UMLS:C0003507||OR...| |mitral valve regurgitation| 373|398| HP|HP:0001653|mitral valve regurgitation|MSH:D008944||SNOMED:48724000||UMLS:C0026266,C35...| | hypertension| 555|566| HP|HP:0000822| hypertension|MSH:D006973||SNOMED:24184005,38341003||UMLS:C00...| | bradycardia| 655|665| HP|HP:0001662| bradycardia|MSH:D001919||SNOMED:48867003||UMLS:C0428977||OR...| +--------------------------+-----+---+---------+----------+--------------------------+--------------------------------------------------+ Model Information Model Name: hpo_resolver_pipeline Type: pipeline Compatibility: Healthcare NLP 5.2.1+ License: Licensed Edition: Official Language: en Size: 2.2 GB Included Models DocumentAssembler SentenceDetectorDLModel TokenizerModel WordEmbeddingsModel MedicalNerModel NerConverterInternalModel Chunk2Doc BertSentenceEmbeddings SentenceEntityResolverModel</summary></entry><entry><title type="html">Sentence Entity Resolver for RxNorm (sbiobert_base_cased_mli embeddings)</title><link href="/2024/01/17/sbiobertresolve_rxnorm_augmented_en.html" rel="alternate" type="text/html" title="Sentence Entity Resolver for RxNorm (sbiobert_base_cased_mli embeddings)" /><published>2024-01-17T00:00:00+00:00</published><updated>2024-01-17T00:00:00+00:00</updated><id>/2024/01/17/sbiobertresolve_rxnorm_augmented_en</id><content type="html" xml:base="/2024/01/17/sbiobertresolve_rxnorm_augmented_en.html">## Description

This model maps clinical entities and concepts (like drugs/ingredients) to RxNorm codes using `sbiobert_base_cased_mli` Sentence Bert Embeddings. It trained on the augmented version of the dataset which is used in previous RxNorm resolver models. Additionally, this model returns concept classes of the drugs in `all_k_aux_labels` column.

## Predicted Entities

`RxNorm Codes`, `Concept Classes`

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
[Open in Colab](https://colab.research.google.com/github/JohnSnowLabs/spark-nlp-workshop/blob/master/tutorials/Certification_Trainings/Healthcare/3.Clinical_Entity_Resolvers.ipynb){:.button.button-orange.button-orange-trans.co.button-icon}
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/sbiobertresolve_rxnorm_augmented_en_5.2.1_3.0_1705502473156.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/sbiobertresolve_rxnorm_augmented_en_5.2.1_3.0_1705502473156.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
```python
documentAssembler = DocumentAssembler()\
  .setInputCol(&quot;text&quot;)\
  .setOutputCol(&quot;ner_chunk&quot;)

sbert_embedder = BertSentenceEmbeddings.pretrained(&quot;sbiobert_base_cased_mli&quot;, &quot;en&quot;,&quot;clinical/models&quot;)\
  .setInputCols([&quot;ner_chunk&quot;])\
  .setOutputCol(&quot;sbert_embeddings&quot;)\
  .setCaseSensitive(False)

rxnorm_resolver = SentenceEntityResolverModel.pretrained(&quot;sbiobertresolve_rxnorm_augmented&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\
  .setInputCols(&quot;sbert_embeddings&quot;)\
  .setOutputCol(&quot;rxnorm_code&quot;)\
  .setDistanceFunction(&quot;EUCLIDEAN&quot;)

rxnorm_pipeline = Pipeline(stages = [
  documentAssembler,
  sbert_embedder,
  rxnorm_resolver])

model = rxnorm_pipeline.fit(spark.createDataFrame([[&quot;&quot;]]).toDF(&quot;text&quot;))

light_model = LightPipeline(model)

result = light_model.fullAnnotate([&quot;Coumadin 5 mg&quot;, &quot;aspirin&quot;, &quot;avandia 4 mg&quot;])
```
```scala
val documentAssembler = new DocumentAssembler()
    .setInputCol(&quot;text&quot;)
    .setOutputCol(&quot;ner_chunk&quot;)

val sbert_embedder = BertSentenceEmbeddings.pretrained(&quot;sbiobert_base_cased_mli&quot;, &quot;en&quot;,&quot;clinical/models&quot;)
    .setInputCols(Array(&quot;ner_chunk&quot;))
    .setOutputCol(&quot;sbert_embeddings&quot;)
    .setCaseSensitive(False)

val rxnorm_resolver = SentenceEntityResolverModel.pretrained(&quot;sbiobertresolve_rxnorm_augmented&quot;, &quot;en&quot;, &quot;clinical/models&quot;)
    .setInputCols(&quot;sbert_embeddings&quot;)
    .setOutputCol(&quot;rxnorm_code&quot;)
    .setDistanceFunction(&quot;EUCLIDEAN&quot;)

val rxnorm_pipelineModel = new PipelineModel().setStages(Array(documentAssembler, 
                                                               sbert_embedder, 
                                                               rxnorm_resolver))

val data = Seq(Array(&quot;Coumadin 5 mg&quot;, &quot;aspirin&quot;, &quot;avandia 4 mg&quot;)).toDS.toDF(&quot;text&quot;)

val result= rxnorm_pipelineModel.fit(data).transform(data)
```
&lt;/div&gt;

## Results

```bash
|    |   RxNormCode | Resolution                               | all_k_results                     | all_k_distances                   | all_k_cosine_distances            | all_k_resolutions                                               | all_k_aux_labels                  |
|---:|-------------:|:-----------------------------------------|:----------------------------------|:----------------------------------|:----------------------------------|:----------------------------------------------------------------|:----------------------------------|
|  0 |       855333 | warfarin sodium 5 MG [Coumadin]          | 855333:::432467:::438740:::103... | 3.0367:::4.7790:::4.7790:::5.3... | 0.0161:::0.0395:::0.0395:::0.0... | warfarin sodium 5 MG [Coumadin]:::coumarin 5 MG Oral Tablet:... | Branded Drug Comp:::Clinical D... |
|  1 |      1537020 | aspirin Effervescent Oral Tablet         | 1537020:::1191:::1295740:::405... | 0.0000:::0.0000:::4.1826:::5.7... | 0.0000:::0.0000:::0.0292:::0.0... | aspirin Effervescent Oral Tablet:::aspirin:::aspirin Oral Po... | Clinical Drug Form:::Ingredien... |
|  2 |       261242 | rosiglitazone 4 MG Oral Tablet [Avandia] | 261242:::810073:::153845:::109... | 0.0000:::4.7482:::5.0125:::5.2... | 0.0000:::0.0365:::0.0409:::0.0... | rosiglitazone 4 MG Oral Tablet [Avandia]:::fesoterodine fuma... | Branded Drug:::Branded Drug Co... |
```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|sbiobertresolve_rxnorm_augmented|
|Compatibility:|Healthcare NLP 5.2.1+|
|License:|Licensed|
|Edition:|Official|
|Input Labels:|[sentence_embeddings]|
|Output Labels:|[rxnorm_code]|
|Language:|en|
|Size:|1.3 GB|
|Case sensitive:|false|

## References

In this model, RxNorm  version 5.0 was used for the training.</content><author><name>John Snow Labs</name></author><category term="rxnorm" /><category term="licensed" /><category term="en" /><category term="clinical" /><category term="entity_resolution" /><summary type="html">Description This model maps clinical entities and concepts (like drugs/ingredients) to RxNorm codes using sbiobert_base_cased_mli Sentence Bert Embeddings. It trained on the augmented version of the dataset which is used in previous RxNorm resolver models. Additionally, this model returns concept classes of the drugs in all_k_aux_labels column. Predicted Entities RxNorm Codes, Concept Classes Live Demo Open in Colab Download Copy S3 URI How to use PythonJSLScalaNLU documentAssembler = DocumentAssembler()\ .setInputCol(&quot;text&quot;)\ .setOutputCol(&quot;ner_chunk&quot;) sbert_embedder = BertSentenceEmbeddings.pretrained(&quot;sbiobert_base_cased_mli&quot;, &quot;en&quot;,&quot;clinical/models&quot;)\ .setInputCols([&quot;ner_chunk&quot;])\ .setOutputCol(&quot;sbert_embeddings&quot;)\ .setCaseSensitive(False) rxnorm_resolver = SentenceEntityResolverModel.pretrained(&quot;sbiobertresolve_rxnorm_augmented&quot;, &quot;en&quot;, &quot;clinical/models&quot;)\ .setInputCols(&quot;sbert_embeddings&quot;)\ .setOutputCol(&quot;rxnorm_code&quot;)\ .setDistanceFunction(&quot;EUCLIDEAN&quot;) rxnorm_pipeline = Pipeline(stages = [ documentAssembler, sbert_embedder, rxnorm_resolver]) model = rxnorm_pipeline.fit(spark.createDataFrame([[&quot;&quot;]]).toDF(&quot;text&quot;)) light_model = LightPipeline(model) result = light_model.fullAnnotate([&quot;Coumadin 5 mg&quot;, &quot;aspirin&quot;, &quot;avandia 4 mg&quot;]) val documentAssembler = new DocumentAssembler() .setInputCol(&quot;text&quot;) .setOutputCol(&quot;ner_chunk&quot;) val sbert_embedder = BertSentenceEmbeddings.pretrained(&quot;sbiobert_base_cased_mli&quot;, &quot;en&quot;,&quot;clinical/models&quot;) .setInputCols(Array(&quot;ner_chunk&quot;)) .setOutputCol(&quot;sbert_embeddings&quot;) .setCaseSensitive(False) val rxnorm_resolver = SentenceEntityResolverModel.pretrained(&quot;sbiobertresolve_rxnorm_augmented&quot;, &quot;en&quot;, &quot;clinical/models&quot;) .setInputCols(&quot;sbert_embeddings&quot;) .setOutputCol(&quot;rxnorm_code&quot;) .setDistanceFunction(&quot;EUCLIDEAN&quot;) val rxnorm_pipelineModel = new PipelineModel().setStages(Array(documentAssembler, sbert_embedder, rxnorm_resolver)) val data = Seq(Array(&quot;Coumadin 5 mg&quot;, &quot;aspirin&quot;, &quot;avandia 4 mg&quot;)).toDS.toDF(&quot;text&quot;) val result= rxnorm_pipelineModel.fit(data).transform(data) Results | | RxNormCode | Resolution | all_k_results | all_k_distances | all_k_cosine_distances | all_k_resolutions | all_k_aux_labels | |---:|-------------:|:-----------------------------------------|:----------------------------------|:----------------------------------|:----------------------------------|:----------------------------------------------------------------|:----------------------------------| | 0 | 855333 | warfarin sodium 5 MG [Coumadin] | 855333:::432467:::438740:::103... | 3.0367:::4.7790:::4.7790:::5.3... | 0.0161:::0.0395:::0.0395:::0.0... | warfarin sodium 5 MG [Coumadin]:::coumarin 5 MG Oral Tablet:... | Branded Drug Comp:::Clinical D... | | 1 | 1537020 | aspirin Effervescent Oral Tablet | 1537020:::1191:::1295740:::405... | 0.0000:::0.0000:::4.1826:::5.7... | 0.0000:::0.0000:::0.0292:::0.0... | aspirin Effervescent Oral Tablet:::aspirin:::aspirin Oral Po... | Clinical Drug Form:::Ingredien... | | 2 | 261242 | rosiglitazone 4 MG Oral Tablet [Avandia] | 261242:::810073:::153845:::109... | 0.0000:::4.7482:::5.0125:::5.2... | 0.0000:::0.0365:::0.0409:::0.0... | rosiglitazone 4 MG Oral Tablet [Avandia]:::fesoterodine fuma... | Branded Drug:::Branded Drug Co... | Model Information Model Name: sbiobertresolve_rxnorm_augmented Compatibility: Healthcare NLP 5.2.1+ License: Licensed Edition: Official Input Labels: [sentence_embeddings] Output Labels: [rxnorm_code] Language: en Size: 1.3 GB Case sensitive: false References In this model, RxNorm version 5.0 was used for the training.</summary></entry><entry><title type="html">Pipeline for Anatomic Therapeutic Chemical (ATC) Sentence Entity Resolver</title><link href="/2024/01/17/atc_resolver_pipeline_en.html" rel="alternate" type="text/html" title="Pipeline for Anatomic Therapeutic Chemical (ATC) Sentence Entity Resolver" /><published>2024-01-17T00:00:00+00:00</published><updated>2024-01-17T00:00:00+00:00</updated><id>/2024/01/17/atc_resolver_pipeline_en</id><content type="html" xml:base="/2024/01/17/atc_resolver_pipeline_en.html">## Description

This advanced pipeline extracts `DRUG` entities from clinical texts and utilizes the `sbiobert_base_cased_mli` Sentence Bert Embeddings to map these entities to their corresponding Anatomic Therapeutic Chemical (ATC) codes. 

{:.btn-box}
&lt;button class=&quot;button button-orange&quot; disabled&gt;Live Demo&lt;/button&gt;
&lt;button class=&quot;button button-orange&quot; disabled&gt;Open in Colab&lt;/button&gt;
[Download](https://s3.amazonaws.com/auxdata.johnsnowlabs.com/clinical/models/atc_resolver_pipeline_en_5.2.1_3.2_1705491262682.zip){:.button.button-orange.button-orange-trans.arr.button-icon.hidden}
[Copy S3 URI](s3://auxdata.johnsnowlabs.com/clinical/models/atc_resolver_pipeline_en_5.2.1_3.2_1705491262682.zip){:.button.button-orange.button-orange-trans.button-icon.button-copy-s3}

## How to use



&lt;div class=&quot;tabs-box&quot; markdown=&quot;1&quot;&gt;
{% include programmingLanguageSelectScalaPythonNLU.html %}
```python

from sparknlp.pretrained import PretrainedPipeline

ner_pipeline = PretrainedPipeline(&quot;atc_resolver_pipeline&quot;, &quot;en&quot;, &quot;clinical/models&quot;)

result = ner_pipeline.annotate(&quot;She was immediately given hydrogen peroxide 30 mg and amoxicillin twice daily for 10 days to treat the infection on her leg. She has a history of taking magnesium hydroxide.&quot;)

```
```scala

import com.johnsnowlabs.nlp.pretrained.PretrainedPipeline

val ner_pipeline = PretrainedPipeline(&quot;atc_resolver_pipeline&quot;, &quot;en&quot;, &quot;clinical/models&quot;)

val result = ner_pipeline.annotate(&quot;She was immediately given hydrogen peroxide 30 mg and amoxicillin twice daily for 10 days to treat the infection on her leg. She has a history of taking magnesium hydroxide.&quot;)

```
&lt;/div&gt;

## Results

```bash
|    | chunks              |   begin |   end | entities   | atc_code   | resolutions         |
|---:|:--------------------|--------:|------:|:-----------|:-----------|:--------------------|
|  0 | hydrogen peroxide   |      26 |    42 | DRUG       | A01AB02    | hydrogen peroxide   |
|  1 | amoxicillin         |      54 |    64 | DRUG       | J01CA04    | amoxicillin         |
|  2 | magnesium hydroxide |     153 |   171 | DRUG       | A02AA04    | magnesium hydroxide |
```

{:.model-param}
## Model Information

{:.table-model}
|---|---|
|Model Name:|atc_resolver_pipeline|
|Type:|pipeline|
|Compatibility:|Healthcare NLP 5.2.1+|
|License:|Licensed|
|Edition:|Official|
|Language:|en|
|Size:|2.2 GB|

## Included Models

- DocumentAssembler
- SentenceDetectorDLModel
- TokenizerModel
- WordEmbeddingsModel
- MedicalNerModel
- NerConverterInternalModel
- Chunk2Doc
- BertSentenceEmbeddings
- SentenceEntityResolverModel</content><author><name>John Snow Labs</name></author><category term="licensed" /><category term="en" /><category term="entity_resolution" /><category term="clinical" /><category term="pipeline" /><category term="atc" /><summary type="html">Description This advanced pipeline extracts DRUG entities from clinical texts and utilizes the sbiobert_base_cased_mli Sentence Bert Embeddings to map these entities to their corresponding Anatomic Therapeutic Chemical (ATC) codes. Live Demo Open in Colab Download Copy S3 URI How to use PythonJSLScalaNLU from sparknlp.pretrained import PretrainedPipeline ner_pipeline = PretrainedPipeline(&quot;atc_resolver_pipeline&quot;, &quot;en&quot;, &quot;clinical/models&quot;) result = ner_pipeline.annotate(&quot;She was immediately given hydrogen peroxide 30 mg and amoxicillin twice daily for 10 days to treat the infection on her leg. She has a history of taking magnesium hydroxide.&quot;) import com.johnsnowlabs.nlp.pretrained.PretrainedPipeline val ner_pipeline = PretrainedPipeline(&quot;atc_resolver_pipeline&quot;, &quot;en&quot;, &quot;clinical/models&quot;) val result = ner_pipeline.annotate(&quot;She was immediately given hydrogen peroxide 30 mg and amoxicillin twice daily for 10 days to treat the infection on her leg. She has a history of taking magnesium hydroxide.&quot;) Results | | chunks | begin | end | entities | atc_code | resolutions | |---:|:--------------------|--------:|------:|:-----------|:-----------|:--------------------| | 0 | hydrogen peroxide | 26 | 42 | DRUG | A01AB02 | hydrogen peroxide | | 1 | amoxicillin | 54 | 64 | DRUG | J01CA04 | amoxicillin | | 2 | magnesium hydroxide | 153 | 171 | DRUG | A02AA04 | magnesium hydroxide | Model Information Model Name: atc_resolver_pipeline Type: pipeline Compatibility: Healthcare NLP 5.2.1+ License: Licensed Edition: Official Language: en Size: 2.2 GB Included Models DocumentAssembler SentenceDetectorDLModel TokenizerModel WordEmbeddingsModel MedicalNerModel NerConverterInternalModel Chunk2Doc BertSentenceEmbeddings SentenceEntityResolverModel</summary></entry></feed>